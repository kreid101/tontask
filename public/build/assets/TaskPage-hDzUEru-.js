const __vite__fileDeps=["assets/ImageViewer-5KR27HWJ-YW8rlRXO.js","assets/app-Cvgke5Jc.js","assets/app-CdoYxyUz.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{r as A,_ as T,R as B,q as M,j as r,a as J,y as m}from"./app-Cvgke5Jc.js";import{d as i,u as E}from"./useTonConnect-Bp07rHFF.js";import{d as H}from"./index-IdizLvpp.js";import{f as I,P as S,N,I as x,a as F,g as j,h as U,i as O,B as w}from"./Icons-wtQG6lN_.js";function Y(t){return s=>{let e=s;e.storeUint(2490013878,32),e.storeUint(t.queryId,64)}}function z(t){return s=>{let e=s;e.storeUint(170908148,32),e.storeUint(t.id,128),e.storeAddress(t.creator),e.storeAddress(t.executor),e.storeUint(t.coin_amount,64)}}function K(t){return s=>{let e=s;e.storeUint(2083249270,32),e.storeUint(t.id,64),e.storeAddress(t.address)}}async function f(){const t=i.Cell.fromBase64("te6ccgECHAEABSIAART/APSkE/S88sgLAQIBYgIDAvLQAdDTAwFxsKMB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFRQUwNvBPhhAvhi2zxVFNs88uCCyPhDAcx/AcoAVUBQRct/WCDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFgIC9ADLH4EBAc8Aye1UFwQCASAMDQL2AZIwf+BwIddJwh+VMCDXCx/eIIIQCi/Z9LqO1jDTHwGCEAov2fS68uCB03/6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAfpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB0z9VMGwU4CCCEHwr3Ha6BQYCrvhDVTDbPFxwWchwAcsBcwHLAXABywASzMzJ+QDIcgHLAXABywASygfL/8nQINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiHBagEJZfwUEQxNtAts8fwcKAcqOSjDTHwGCEHwr3Ha68uCB0z/6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIEmwSA6QQJIAgQAQgbpUwWfRbMJRBM/QW4gJ/4CDAACLXScEhsJJbf+CCEJRqmLa64wIwcAgA9gTQ9AQwbQGBLnUBgBD0D2+h8uCHAYEudSICgBD0F8gByPQAyQHMcAHKAFUwBYIQCi/Z9FAFyx8Ty38BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFss/yQFO0x8BghCUapi2uvLggdM/ATHIAYIQr/kPV1jLH8s/yfhCAXBt2zx/CQE6bW0ibrOZWyBu8tCAbyIBkTLiECRwAwSAQlAj2zwKAcrIcQHKAVAHAcoAcAHKAlAFINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WUAP6AnABymgjbrORf5MkbrPilzMzAXABygDjDSFus5x/AcoAASBu8tCAAcyVMXABygDiyQH7AAsAmH8BygDIcAHKAHABygAkbrOdfwHKAAQgbvLQgFAEzJY0A3ABygDiJG6znX8BygAEIG7y0IBQBMyWNANwAcoA4nABygACfwHKAALJWMwCEb4o7tnm2eNijBcOAgEgDxAAAiMCASAREgIBSBobAhG22Btnm2eNijAXEwIBIBUWAQ74J28Qeds8FADaIMEBIcJNsfLQhsgiwQCYgC0BywcCowLef3BvAASOGwR6qQwgwABSMLCzm3AzpjAUb4wEpAQDkTDiBOQBs5cCgC5vjAKk3o4QA3qpDKYwE2+MA6QiwAAQNOYzIqUDmlMSb4EBywcCpQLkbCHJ0AIVsxY2zxVBNs8bFGAXGAC5svRgnBc7D1dLK57HoTsOdZKhRtmgnCd1jUtK2R8syLTry398WI5gnAgVcAbgGdjlM5YOq5HJbLDgnCdl05as07LczoOlm2UZuikgnBAznVp5xX50lCwHWFuJkeygAZztRNDUAfhj0gABjjPTf/pAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB9ATTH1kCgQEB1wAFBFAzbBXgMPgo1wsKgwm68uCJ2zwZABqAICQCWfQOb6GSMG3fABpwghAdzWUA+EJtI1UCABGwr7tRNDSAAGAAdbJu40NWlwZnM6Ly9RbWRmM2dtNkVjSjVNdFN4TGdzbVBWa2l3YmVRV3Y1a3o3QlhnWk5jOG1NM29Wgg"),s=i.Cell.fromBase64("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");let e=i.beginCell();e.storeRef(s),e.storeUint(0,1);const a=e.endCell();return{code:t,data:a}}const P={2:{message:"Stack undeflow"},3:{message:"Stack overflow"},4:{message:"Integer overflow"},5:{message:"Integer out of expected range"},6:{message:"Invalid opcode"},7:{message:"Type check error"},8:{message:"Cell overflow"},9:{message:"Cell underflow"},10:{message:"Dictionary error"},13:{message:"Out of gas error"},32:{message:"Method ID not found"},34:{message:"Action is invalid or not supported"},37:{message:"Not enough TON"},38:{message:"Not enough extra-currencies"},128:{message:"Null reference exception"},129:{message:"Invalid serialization prefix"},130:{message:"Invalid incoming message"},131:{message:"Constraints error"},132:{message:"Access denied"},133:{message:"Contract stopped"},134:{message:"Invalid argument"},135:{message:"Code of a contract was not found"},136:{message:"Invalid address"},137:{message:"Masterchain support is not enabled for this contract"},11133:{message:"you cant take your own tasks"},25049:{message:"you dont have enough rights to call this function"}},W=[{name:"StateInit",header:null,fields:[{name:"code",type:{kind:"simple",type:"cell",optional:!1}},{name:"data",type:{kind:"simple",type:"cell",optional:!1}}]},{name:"Context",header:null,fields:[{name:"bounced",type:{kind:"simple",type:"bool",optional:!1}},{name:"sender",type:{kind:"simple",type:"address",optional:!1}},{name:"value",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"raw",type:{kind:"simple",type:"slice",optional:!1}}]},{name:"SendParameters",header:null,fields:[{name:"bounce",type:{kind:"simple",type:"bool",optional:!1}},{name:"to",type:{kind:"simple",type:"address",optional:!1}},{name:"value",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"mode",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"body",type:{kind:"simple",type:"cell",optional:!0}},{name:"code",type:{kind:"simple",type:"cell",optional:!0}},{name:"data",type:{kind:"simple",type:"cell",optional:!0}}]},{name:"Deploy",header:2490013878,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"DeployOk",header:2952335191,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"FactoryDeploy",header:1829761339,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"cashback",type:{kind:"simple",type:"address",optional:!1}}]},{name:"ChangeOwner",header:2174598809,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"newOwner",type:{kind:"simple",type:"address",optional:!1}}]},{name:"ChangeOwnerOk",header:846932810,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"newOwner",type:{kind:"simple",type:"address",optional:!1}}]},{name:"TaskData",header:null,fields:[{name:"id",type:{kind:"simple",type:"uint",optional:!1,format:128}},{name:"creator",type:{kind:"simple",type:"address",optional:!1}},{name:"executor",type:{kind:"simple",type:"address",optional:!1}},{name:"coin_amount",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"status",type:{kind:"simple",type:"uint",optional:!1,format:8}}]},{name:"InternalTask",header:170908148,fields:[{name:"id",type:{kind:"simple",type:"uint",optional:!1,format:128}},{name:"creator",type:{kind:"simple",type:"address",optional:!1}},{name:"executor",type:{kind:"simple",type:"address",optional:!1}},{name:"coin_amount",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"ChildCallback",header:2083249270,fields:[{name:"id",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"address",type:{kind:"simple",type:"address",optional:!1}}]},{name:"TaskAddresses",header:null,fields:[{name:"address",type:{kind:"dict",key:"uint",keyFormat:32,value:"address"}},{name:"length",type:{kind:"simple",type:"uint",optional:!1,format:32}}]}],X=[{name:"balance",arguments:[],returnType:{kind:"simple",type:"string",optional:!1}},{name:"addressOfChild",arguments:[{name:"id",type:{kind:"simple",type:"int",optional:!1,format:257}}],returnType:{kind:"simple",type:"address",optional:!0}},{name:"owner",arguments:[],returnType:{kind:"simple",type:"address",optional:!1}}],V=[{receiver:"internal",message:{kind:"typed",type:"InternalTask"}},{receiver:"internal",message:{kind:"typed",type:"ChildCallback"}},{receiver:"internal",message:{kind:"empty"}},{receiver:"internal",message:{kind:"typed",type:"Deploy"}}];class y{constructor(s,e){this.abi={types:W,getters:X,receivers:V,errors:P},this.address=s,this.init=e}static async init(){return await f()}static async fromInit(){const s=await f(),e=i.contractAddress(0,s);return new y(e,s)}static fromAddress(s){return new y(s)}async send(s,e,a,n){let o=null;if(n&&typeof n=="object"&&!(n instanceof i.Slice)&&n.$$type==="InternalTask"&&(o=i.beginCell().store(z(n)).endCell()),n&&typeof n=="object"&&!(n instanceof i.Slice)&&n.$$type==="ChildCallback"&&(o=i.beginCell().store(K(n)).endCell()),n===null&&(o=new i.Cell),n&&typeof n=="object"&&!(n instanceof i.Slice)&&n.$$type==="Deploy"&&(o=i.beginCell().store(Y(n)).endCell()),o===null)throw new Error("Invalid message type");await s.internal(e,{...a,body:o})}async getBalance(s){let e=new i.TupleBuilder;return(await s.get("balance",e.build())).stack.readString()}async getAddressOfChild(s,e){let a=new i.TupleBuilder;return a.writeNumber(e),(await s.get("addressOfChild",a.build())).stack.readAddressOpt()}async getOwner(s){let e=new i.TupleBuilder;return(await s.get("owner",e.build())).stack.readAddress()}}function R(t){return s=>{let e=s;e.storeUint(2490013878,32),e.storeUint(t.queryId,64)}}function G(t){return s=>{let e=s;e.storeUint(170908148,32),e.storeUint(t.id,128),e.storeAddress(t.creator),e.storeAddress(t.executor),e.storeUint(t.coin_amount,64)}}function _(t){let s=t.readBigNumber(),e=t.readAddress(),a=t.readAddress(),n=t.readBigNumber(),o=t.readBigNumber();return{$$type:"TaskData",id:s,creator:e,executor:a,coin_amount:n,status:o}}function q(t){return s=>{s.store(G(t.msg))}}async function Q(t){const s=i.Cell.fromBase64("te6ccgECHAEABSwAART/APSkE/S88sgLAQIBYgIDA37QAdDTAwFxsKMB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFRQUwNvBPhhAvhi2zxVFts88uCC2zwTBAUCASAJCgK67aLt+wGSMH/gcCHXScIflTAg1wsf3iDAACLXScEhsJJbf+AgghCUapi2uo6oMNMfAYIQlGqYtrry4IHTPwExyAGCEK/5D1dYyx/LP8n4QgFwbds8f+DAAJEw4w1wBgcB9sj4QwHMfwHKAFVgUHYg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYFBlBFy39YINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFss/ywcByMsfyQHMyQgBOm1tIm6zmVsgbvLQgG8iAZEy4hAkcAMEgEJQI9s8FwHI+QGC8JCEkRl2Tsc0v7b8ZQi7A+hG5gxWJVrGBEROMKl93e0quo68MYFh2fhBbyQQI18DUlDHBZF/nPhBbyQQI18DUnDHBeLy9HT4J28QggiYloChUkByf1UgbW1t2zwBf9sx4BcABO1UAgEgCwwCASAPEAIRuIq9s82zxsdYEw0CEbhR3bPNs8bHGBMOAApUdUNTVAACJgIBIBESAgFIGhsCEbbYG2ebZ42OMBMUALm3ejBOC52Hq6WVz2PQnYc6yVCjbNBOE7rGpaVsj5ZkWnXlv74sRzBOBAq4A3AM7HKZywdVyOS2WHBOE7Lpy1Zp2W5nQdLNsozdFJBOCBnOrTzivzpKFgOsLcTI9lAC4O1E0NQB+GPSAAHjAvgo1wsKgwm68uCJ0x8BghAKL9n0uvLggdN/+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAH6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAdM/VTAE0VUC2zwVFgEO+CdvEHnbPBkA5vpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB03/6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAfpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB0z/TB1VABdQB0NMfMBcWbBcBwDCBK31TEscFs/L0+EFvJBNfA4IK+vCAoXH4I/hC+EKCCvrwgHL4KFKgyFmCEHwr3HZQA8sfyz8BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WyX9VMG1t2zxVUBcByshxAcoBUAcBygBwAcoCUAUg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxZQA/oCcAHKaCNus5F/kyRus+KXMzMBcAHKAOMNIW6znH8BygABIG7y0IABzJUxcAHKAOLJAfsAGACYfwHKAMhwAcoAcAHKACRus51/AcoABCBu8tCAUATMljQDcAHKAOIkbrOdfwHKAAQgbvLQgFAEzJY0A3ABygDicAHKAAJ/AcoAAslYzADaIMEBIcJNsfLQhsgiwQCYgC0BywcCowLef3BvAASOGwR6qQwgwABSMLCzm3AzpjAUb4wEpAQDkTDiBOQBs5cCgC5vjAKk3o4QA3qpDKYwE2+MA6QiwAAQNOYzIqUDmlMSb4EBywcCpQLkbCHJ0AARsK+7UTQ0gABgAHWybuNDVpcGZzOi8vUW1RTUFZTkRvQjE5RllTMlBVNUZSZWl5cE1YSkE3TUd0Uzg1Rjc4MnVpR000TYIA=="),e=i.Cell.fromBase64("te6cckECHgEABTYAAQHAAQEFoFzrAgEU/wD0pBP0vPLICwMCAWIECgN+0AHQ0wMBcbCjAfpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IhUUFMDbwT4YQL4Yts8VRbbPPLggts8EwUIArrtou37AZIwf+BwIddJwh+VMCDXCx/eIMAAItdJwSGwklt/4CCCEJRqmLa6jqgw0x8BghCUapi2uvLggdM/ATHIAYIQr/kPV1jLH8s/yfhCAXBt2zx/4MAAkTDjDXAGBwE6bW0ibrOZWyBu8tCAbyIBkTLiECRwAwSAQlAj2zwWAcj5AYLwkISRGXZOxzS/tvxlCLsD6EbmDFYlWsYERE4wqX3d7Sq6jrwxgWHZ+EFvJBAjXwNSUMcFkX+c+EFvJBAjXwNScMcF4vL0dPgnbxCCCJiWgKFSQHJ/VSBtbW3bPAF/2zHgFgH2yPhDAcx/AcoAVWBQdiDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFgUGUEXLf1gg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYBINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8Wyz/LBwHIyx/JAczJCQAE7VQCASALEAIBIAwOAhG4ir2zzbPGx1gTDQAKVHVDU1QCEbhR3bPNs8bHGBMPAAImAgEgERsCASASGgIRttgbZ5tnjY4wExgC4O1E0NQB+GPSAAHjAvgo1wsKgwm68uCJ0x8BghAKL9n0uvLggdN/+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAH6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAdM/VTAE0VUC2zwUFQDm+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAHTf/pAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAHTP9MHVUAF1AHQ0x8wFxZsFwHAMIErfVMSxwWz8vT4QW8kE18Dggr68IChcfgj+EL4QoIK+vCAcvgoUqDIWYIQfCvcdlADyx/LPwEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxbJf1UwbW3bPFVQFgHKyHEBygFQBwHKAHABygJQBSDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFlAD+gJwAcpoI26zkX+TJG6z4pczMwFwAcoA4w0hbrOcfwHKAAEgbvLQgAHMlTFwAcoA4skB+wAXAJh/AcoAyHABygBwAcoAJG6znX8BygAEIG7y0IBQBMyWNANwAcoA4iRus51/AcoABCBu8tCAUATMljQDcAHKAOJwAcoAAn8BygACyVjMAQ74J28Qeds8GQDaIMEBIcJNsfLQhsgiwQCYgC0BywcCowLef3BvAASOGwR6qQwgwABSMLCzm3AzpjAUb4wEpAQDkTDiBOQBs5cCgC5vjAKk3o4QA3qpDKYwE2+MA6QiwAAQNOYzIqUDmlMSb4EBywcCpQLkbCHJ0AC5t3owTgudh6ullc9j0J2HOslQo2zQThO6xqWlbI+WZFp15b++LEcwTgQKuANwDOxymcsHVcjktlhwThOy6ctWadluZ0HSzbKM3RSQTggZzq084r86ShYDrC3EyPZQAgFIHB0AEbCvu1E0NIAAYAB1sm7jQ1aXBmczovL1FtUU1BWU5Eb0IxOUZZUzJQVTVGUmVpeXBNWEpBN01HdFM4NUY3ODJ1aUdNNE2CCX5FhK");let a=i.beginCell();a.storeRef(e),a.storeUint(0,1),q({$$type:"TonTaskChild_init_args",msg:t})(a);const n=a.endCell();return{code:s,data:n}}const Z={2:{message:"Stack undeflow"},3:{message:"Stack overflow"},4:{message:"Integer overflow"},5:{message:"Integer out of expected range"},6:{message:"Invalid opcode"},7:{message:"Type check error"},8:{message:"Cell overflow"},9:{message:"Cell underflow"},10:{message:"Dictionary error"},13:{message:"Out of gas error"},32:{message:"Method ID not found"},34:{message:"Action is invalid or not supported"},37:{message:"Not enough TON"},38:{message:"Not enough extra-currencies"},128:{message:"Null reference exception"},129:{message:"Invalid serialization prefix"},130:{message:"Invalid incoming message"},131:{message:"Constraints error"},132:{message:"Access denied"},133:{message:"Contract stopped"},134:{message:"Invalid argument"},135:{message:"Code of a contract was not found"},136:{message:"Invalid address"},137:{message:"Masterchain support is not enabled for this contract"},11133:{message:"you cant take your own tasks"},25049:{message:"you dont have enough rights to call this function"}},$=[{name:"StateInit",header:null,fields:[{name:"code",type:{kind:"simple",type:"cell",optional:!1}},{name:"data",type:{kind:"simple",type:"cell",optional:!1}}]},{name:"Context",header:null,fields:[{name:"bounced",type:{kind:"simple",type:"bool",optional:!1}},{name:"sender",type:{kind:"simple",type:"address",optional:!1}},{name:"value",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"raw",type:{kind:"simple",type:"slice",optional:!1}}]},{name:"SendParameters",header:null,fields:[{name:"bounce",type:{kind:"simple",type:"bool",optional:!1}},{name:"to",type:{kind:"simple",type:"address",optional:!1}},{name:"value",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"mode",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"body",type:{kind:"simple",type:"cell",optional:!0}},{name:"code",type:{kind:"simple",type:"cell",optional:!0}},{name:"data",type:{kind:"simple",type:"cell",optional:!0}}]},{name:"Deploy",header:2490013878,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"DeployOk",header:2952335191,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"FactoryDeploy",header:1829761339,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"cashback",type:{kind:"simple",type:"address",optional:!1}}]},{name:"ChangeOwner",header:2174598809,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"newOwner",type:{kind:"simple",type:"address",optional:!1}}]},{name:"ChangeOwnerOk",header:846932810,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"newOwner",type:{kind:"simple",type:"address",optional:!1}}]},{name:"InternalTask",header:170908148,fields:[{name:"id",type:{kind:"simple",type:"uint",optional:!1,format:128}},{name:"creator",type:{kind:"simple",type:"address",optional:!1}},{name:"executor",type:{kind:"simple",type:"address",optional:!1}},{name:"coin_amount",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"ChildCallback",header:2083249270,fields:[{name:"id",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"address",type:{kind:"simple",type:"address",optional:!1}}]},{name:"TaskData",header:null,fields:[{name:"id",type:{kind:"simple",type:"uint",optional:!1,format:128}},{name:"creator",type:{kind:"simple",type:"address",optional:!1}},{name:"executor",type:{kind:"simple",type:"address",optional:!1}},{name:"coin_amount",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"status",type:{kind:"simple",type:"uint",optional:!1,format:8}}]}],ee=[{name:"showData",arguments:[],returnType:{kind:"simple",type:"TaskData",optional:!1}},{name:"balance",arguments:[],returnType:{kind:"simple",type:"string",optional:!1}},{name:"owner",arguments:[],returnType:{kind:"simple",type:"address",optional:!1}}],te=[{receiver:"internal",message:{kind:"empty"}},{receiver:"internal",message:{kind:"text",text:"task is done"}},{receiver:"internal",message:{kind:"typed",type:"Deploy"}}];class p{constructor(s,e){this.abi={types:$,getters:ee,receivers:te,errors:Z},this.address=s,this.init=e}static async init(s){return await Q(s)}static async fromInit(s){const e=await Q(s),a=i.contractAddress(0,e);return new p(a,e)}static fromAddress(s){return new p(s)}async send(s,e,a,n){let o=null;if(n===null&&(o=new i.Cell),n==="task is done"&&(o=i.beginCell().storeUint(0,32).storeStringTail(n).endCell()),n&&typeof n=="object"&&!(n instanceof i.Slice)&&n.$$type==="Deploy"&&(o=i.beginCell().store(R(n)).endCell()),o===null)throw new Error("Invalid message type");await s.internal(e,{...a,body:o})}async getShowData(s){let e=new i.TupleBuilder,a=(await s.get("showData",e.build())).stack;return _(a)}async getBalance(s){let e=new i.TupleBuilder;return(await s.get("balance",e.build())).stack.readString()}async getOwner(s){let e=new i.TupleBuilder;return(await s.get("owner",e.build())).stack.readAddress()}}function se(){const t=E(),s=new H.TonClient({endpoint:"https://testnet.toncenter.com/api/v2/jsonRPC",apiKey:"7f9775a808b429f000a1bd9a8ee2c23ae2bc5df3d2930d6991fe84c01acf8c5c"}),e=y.fromAddress(i.Address.parse("EQD108FofiQ8Zg1EYS2cDRiykEwW_Y7oTdaIdYvk5jHz_TEc")),a=s.open(e);return{newTask:async n=>{if(t.connected){let o={$$type:"InternalTask",id:n.id,creator:n.sender,executor:n.executor,coin_amount:n.coin_amount};a==null||a.send(t.sender,{value:n.coin_amount},o).then(()=>console.log("123")).catch(d=>console.log("bed ba"))}},getChild:async n=>await a.getAddressOfChild(n),getChildInfo:async n=>{let o=await p.fromAddress(n);return(await s.open(o)).getShowData()},markAsDone:async n=>{let o=await p.fromAddress(n);(await s.open(o)).send(t.sender,{value:i.toNano("0.05")},"task is done")}}}var ne=A.lazy(()=>T(()=>import("./ImageViewer-5KR27HWJ-YW8rlRXO.js"),__vite__mapDeps([0,1,2])));function ae(){const t=A.useRef([]);t.current=[];const s=A.useRef(new Set),e=A.useCallback(function({fallback:n,children:o}){const[d,g]=A.useState(void 0);A.useEffect(()=>(s.current.add(g),()=>{s.current.delete(g)}),[g]);const C=A.useCallback(()=>g(void 0),[]);if(d===void 0||typeof window>"u")return null;const c=ne;return B.createElement(A.Suspense,{fallback:n??null},B.createElement(c,{images:t.current,onClose:C,defaultIndex:d,children:o}))},[]);return{getOnClick(a,n){const o=t.current.length;return a&&t.current.push([a,n]),d=>{d.preventDefault();for(const g of s.current)g(o)}},ImageViewer:e}}function Ae({task:t}){E();const{getOnClick:s,ImageViewer:e}=ae();M();const a=t.images.map(l=>r.jsx("img",{className:"max-w-24",onClick:s("/"+l.link),src:"/"+l.link},l.id)),[n,o]=A.useState({id:BigInt(t.id),sender:i.Address.parse(t.user_id),executor:null,coin_amount:i.toNano(t.price)}),d=()=>{m.get("/tasks/"+C)},g=async l=>{await o(u=>({...u,executor:i.Address.parse(l.user_id)})),c.newTask(n)},C=J(),c=se(),k=async()=>{let l=await c.getChild(t.id);c.markAsDone(l)},b=()=>{m.post("/markasdone",{id:t.id})};function L(){let l={id:t.id,initdata:window.Telegram.WebApp.initData,wallet:C.toString()};m.post("/taketask",l)}async function h(){let l=await c.getChild(t.id);if(l!==null){let u=await c.getChildInfo(l);(Number(u.status)===1&&t.status===1||Number(u.status)===4&&t.status!==4)&&m.post("/updtask",{id:Number(t.id),status:Number(u.status),exec:u.executor.toString()})}}const D=()=>{setInterval(h,5e3)};A.useEffect(D,[]);const v=t.responses.map(l=>r.jsxs(I,{className:"flex justify-between items-center overflow-scroll",strong:!0,inset:!0,outline:!0,children:[r.jsxs("div",{onClick:()=>console.log("user profile"),children:[r.jsxs("div",{children:[l.user.fname," ",l.user.lname]}),r.jsx("div",{children:l.user.wallet})]}),r.jsx("div",{children:r.jsx("button",{onClick:()=>g(l),children:"choose"})})]},l.id));return r.jsxs(S,{children:[r.jsx(N,{centerTitle:!0,title:"Task",left:r.jsx(x,{onClick:d,className:"cursor-pointer",material:F()})}),r.jsx(j,{colors:{textMaterial:"text-black"},large:!0,children:t.headline}),r.jsx(U,{children:t.created_at}),r.jsx(I,{strong:!0,inset:!0,outline:!0,children:t.description}),r.jsxs(O,{children:["price:",t.price]}),r.jsxs("div",{children:["status: ",t.status]}),a,r.jsx(e,{}),t.status===0?r.jsx(w,{onClick:L,children:"Take task"}):"",t.status===0?v:"",r.jsxs("div",{children:[t.status===1?r.jsx(w,{onClick:b,children:"mark as done"}):"",t.status===2?r.jsx(w,{onClick:k,children:"Realese money"}):""]})]})}export{Ae as default};
