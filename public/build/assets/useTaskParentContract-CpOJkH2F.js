import{d as k,r as Gt,u as $a}from"./useTonConnect-JmYoy3V7.js";import{f as Nn,p as jt,d as Xa,c as z,B as D}from"./app-C1FQkjYa.js";const{Axios:er,AxiosError:tr,CanceledError:nr,isCancel:ar,CancelToken:rr,VERSION:sr,all:ir,Cancel:or,isAxiosError:dr,spread:lr,toFormData:cr,AxiosHeaders:ur,HttpStatusCode:fr,formToJSON:hr,getAdapter:gr,mergeConfig:mr}=Nn,yr=Object.freeze(Object.defineProperty({__proto__:null,Axios:er,AxiosError:tr,AxiosHeaders:ur,Cancel:or,CancelToken:rr,CanceledError:nr,HttpStatusCode:fr,VERSION:sr,all:ir,default:Nn,formToJSON:hr,getAdapter:gr,isAxiosError:dr,isCancel:ar,mergeConfig:mr,spread:lr,toFormData:cr},Symbol.toStringTag,{value:"Module"}));function pr(e){return t=>{let a=t;a.storeUint(2490013878,32),a.storeUint(e.queryId,64)}}function Ar(e){return t=>{let a=t;a.storeUint(170908148,32),a.storeUint(e.id,128),a.storeAddress(e.creator),a.storeAddress(e.executor),a.storeUint(e.coin_amount,64)}}function br(e){return t=>{let a=t;a.storeUint(2083249270,32),a.storeUint(e.id,64),a.storeAddress(e.address)}}async function _n(){const e=k.Cell.fromBase64("te6ccgECHAEABSIAART/APSkE/S88sgLAQIBYgIDAvLQAdDTAwFxsKMB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFRQUwNvBPhhAvhi2zxVFNs88uCCyPhDAcx/AcoAVUBQRct/WCDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFgIC9ADLH4EBAc8Aye1UFwQCASAMDQL2AZIwf+BwIddJwh+VMCDXCx/eIIIQCi/Z9LqO1jDTHwGCEAov2fS68uCB03/6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAfpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB0z9VMGwU4CCCEHwr3Ha6BQYCrvhDVTDbPFxwWchwAcsBcwHLAXABywASzMzJ+QDIcgHLAXABywASygfL/8nQINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiHBagEJZfwUEQxNtAts8fwcKAcqOSjDTHwGCEHwr3Ha68uCB0z/6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIEmwSA6QQJIAgQAQgbpUwWfRbMJRBM/QW4gJ/4CDAACLXScEhsJJbf+CCEJRqmLa64wIwcAgA9gTQ9AQwbQGBLnUBgBD0D2+h8uCHAYEudSICgBD0F8gByPQAyQHMcAHKAFUwBYIQCi/Z9FAFyx8Ty38BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFss/yQFO0x8BghCUapi2uvLggdM/ATHIAYIQr/kPV1jLH8s/yfhCAXBt2zx/CQE6bW0ibrOZWyBu8tCAbyIBkTLiECRwAwSAQlAj2zwKAcrIcQHKAVAHAcoAcAHKAlAFINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WUAP6AnABymgjbrORf5MkbrPilzMzAXABygDjDSFus5x/AcoAASBu8tCAAcyVMXABygDiyQH7AAsAmH8BygDIcAHKAHABygAkbrOdfwHKAAQgbvLQgFAEzJY0A3ABygDiJG6znX8BygAEIG7y0IBQBMyWNANwAcoA4nABygACfwHKAALJWMwCEb4o7tnm2eNijBcOAgEgDxAAAiMCASAREgIBSBobAhG22Btnm2eNijAXEwIBIBUWAQ74J28Qeds8FADaIMEBIcJNsfLQhsgiwQCYgC0BywcCowLef3BvAASOGwR6qQwgwABSMLCzm3AzpjAUb4wEpAQDkTDiBOQBs5cCgC5vjAKk3o4QA3qpDKYwE2+MA6QiwAAQNOYzIqUDmlMSb4EBywcCpQLkbCHJ0AIVsxY2zxVBNs8bFGAXGAC5svRgnBc7D1dLK57HoTsOdZKhRtmgnCd1jUtK2R8syLTry398WI5gnAgVcAbgGdjlM5YOq5HJbLDgnCdl05as07LczoOlm2UZuikgnBAznVp5xX50lCwHWFuJkeygAZztRNDUAfhj0gABjjPTf/pAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB9ATTH1kCgQEB1wAFBFAzbBXgMPgo1wsKgwm68uCJ2zwZABqAICQCWfQOb6GSMG3fABpwghAdzWUA+EJtI1UCABGwr7tRNDSAAGAAdbJu40NWlwZnM6Ly9RbWRmM2dtNkVjSjVNdFN4TGdzbVBWa2l3YmVRV3Y1a3o3QlhnWk5jOG1NM29Wgg"),t=k.Cell.fromBase64("te6cckECNgEACQkAAQHAAQIBSAIZAQW651gDART/APSkE/S88sgLBAIBYgUKA37QAdDTAwFxsKMB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFRQUwNvBPhhAvhi2zxVFts88uCC2zwTBggCuu2i7fsBkjB/4HAh10nCH5UwINcLH94gwAAi10nBIbCSW3/gIIIQlGqYtrqOqDDTHwGCEJRqmLa68uCB0z8BMcgBghCv+Q9XWMsfyz/J+EIBcG3bPH/gwACRMOMNcCIHAcj5AYLwkISRGXZOxzS/tvxlCLsD6EbmDFYlWsYERE4wqX3d7Sq6jrwxgWHZ+EFvJBAjXwNSUMcFkX+c+EFvJBAjXwNScMcF4vL0dPgnbxCCCJiWgKFSQHJ/VSBtbW3bPAF/2zHgIwH2yPhDAcx/AcoAVWBQdiDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFgUGUEXLf1gg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYBINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8Wyz/LBwHIyx/JAczJCQAE7VQCASALEAIBIAwOAhG4ir2zzbPGx1gTDQAKVHVDU1QCEbhR3bPNs8bHGBMPAAImAgEgERcCASASFgIRttgbZ5tnjY4wEysC4O1E0NQB+GPSAAHjAvgo1wsKgwm68uCJ0x8BghAKL9n0uvLggdN/+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAH6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAdM/VTAE0VUC2zwUFQDm+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAHTf/pAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAHTP9MHVUAF1AHQ0x8wFxZsFwHAMIErfVMSxwWz8vT4QW8kE18Dggr68IChcfgj+EL4QoIK+vCAcvgoUqDIWYIQfCvcdlADyx/LPwEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxbJf1UwbW3bPFVQIwC5t3owTgudh6ullc9j0J2HOslQo2zQThO6xqWlbI+WZFp15b++LEcwTgQKuANwDOxymcsHVcjktlhwThOy6ctWadluZ0HSzbKM3RSQTggZzq084r86ShYDrC3EyPZQAgFINBgAdbJu40NWlwZnM6Ly9RbWI3M044ejdkeUJDUllOa1d0N3FOaEx2bWRMUFJ0aVRxWThGeUUzMml6Sjg1ggAQW6xZgaART/APSkE/S88sgLGwIBYhwlAvLQAdDTAwFxsKMB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFRQUwNvBPhhAvhi2zxVFNs88uCCyPhDAcx/AcoAVUBQRct/WCDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFgIC9ADLH4EBAc8Aye1ULx0C9gGSMH/gcCHXScIflTAg1wsf3iCCEAov2fS6jtYw0x8BghAKL9n0uvLggdN/+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAH6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAdM/VTBsFOAgghB8K9x2uh4gAq74Q1Uw2zxccFnIcAHLAXMBywFwAcsAEszMyfkAyHIBywFwAcsAEsoHy//J0CDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IhwWoBCWX8FBEMTbQLbPH8fIwD2BND0BDBtAYEudQGAEPQPb6Hy4IcBgS51IgKAEPQXyAHI9ADJAcxwAcoAVTAFghAKL9n0UAXLHxPLfwEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYBINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8Wyz/JAcqOSjDTHwGCEHwr3Ha68uCB0z/6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIEmwSA6QQJIAgQAQgbpUwWfRbMJRBM/QW4gJ/4CDAACLXScEhsJJbf+CCEJRqmLa64wIwcCEBTtMfAYIQlGqYtrry4IHTPwExyAGCEK/5D1dYyx/LP8n4QgFwbds8fyIBOm1tIm6zmVsgbvLQgG8iAZEy4hAkcAMEgEJQI9s8IwHKyHEBygFQBwHKAHABygJQBSDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFlAD+gJwAcpoI26zkX+TJG6z4pczMwFwAcoA4w0hbrOcfwHKAAEgbvLQgAHMlTFwAcoA4skB+wAkAJh/AcoAyHABygBwAcoAJG6znX8BygAEIG7y0IBQBMyWNANwAcoA4iRus51/AcoABCBu8tCAUATMljQDcAHKAOJwAcoAAn8BygACyVjMAgEgJigCEb4o7tnm2eNijC8nAAIjAgEgKTMCASAqLQIRttgbZ5tnjYowLysBDvgnbxB52zwsANogwQEhwk2x8tCGyCLBAJiALQHLBwKjAt5/cG8ABI4bBHqpDCDAAFIwsLObcDOmMBRvjASkBAORMOIE5AGzlwKALm+MAqTejhADeqkMpjATb4wDpCLAABA05jMipQOaUxJvgQHLBwKlAuRsIcnQAgEgLjICFbMWNs8VQTbPGxRgLzEBnO1E0NQB+GPSAAGOM9N/+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAH0BNMfWQKBAQHXAAUEUDNsFeAw+CjXCwqDCbry4InbPDAAGnCCEB3NZQD4Qm0jVQIAGoAgJAJZ9A5voZIwbd8AubL0YJwXOw9XSyuex6E7DnWSoUbZoJwndY1LStkfLMi068t/fFiOYJwIFXAG4BnY5TOWDquRyWyw4JwnZdOWrNOy3M6DpZtlGbopIJwQM51aecV+dJQsB1hbiZHsoAIBSDQ1ABGwr7tRNDSAAGAAdbJu40NWlwZnM6Ly9RbWRmM2dtNkVjSjVNdFN4TGdzbVBWa2l3YmVRV3Y1a3o3QlhnWk5jOG1NM29Wgg7wuKtQ==");let a=k.beginCell();a.storeRef(t),a.storeUint(0,1);const r=a.endCell();return{code:e,data:r}}const Cr={2:{message:"Stack undeflow"},3:{message:"Stack overflow"},4:{message:"Integer overflow"},5:{message:"Integer out of expected range"},6:{message:"Invalid opcode"},7:{message:"Type check error"},8:{message:"Cell overflow"},9:{message:"Cell underflow"},10:{message:"Dictionary error"},13:{message:"Out of gas error"},32:{message:"Method ID not found"},34:{message:"Action is invalid or not supported"},37:{message:"Not enough TON"},38:{message:"Not enough extra-currencies"},128:{message:"Null reference exception"},129:{message:"Invalid serialization prefix"},130:{message:"Invalid incoming message"},131:{message:"Constraints error"},132:{message:"Access denied"},133:{message:"Contract stopped"},134:{message:"Invalid argument"},135:{message:"Code of a contract was not found"},136:{message:"Invalid address"},137:{message:"Masterchain support is not enabled for this contract"},11133:{message:"you cant take your own tasks"},25049:{message:"you dont have enough rights to call this function"}},wr=[{name:"StateInit",header:null,fields:[{name:"code",type:{kind:"simple",type:"cell",optional:!1}},{name:"data",type:{kind:"simple",type:"cell",optional:!1}}]},{name:"Context",header:null,fields:[{name:"bounced",type:{kind:"simple",type:"bool",optional:!1}},{name:"sender",type:{kind:"simple",type:"address",optional:!1}},{name:"value",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"raw",type:{kind:"simple",type:"slice",optional:!1}}]},{name:"SendParameters",header:null,fields:[{name:"bounce",type:{kind:"simple",type:"bool",optional:!1}},{name:"to",type:{kind:"simple",type:"address",optional:!1}},{name:"value",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"mode",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"body",type:{kind:"simple",type:"cell",optional:!0}},{name:"code",type:{kind:"simple",type:"cell",optional:!0}},{name:"data",type:{kind:"simple",type:"cell",optional:!0}}]},{name:"Deploy",header:2490013878,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"DeployOk",header:2952335191,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"FactoryDeploy",header:1829761339,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"cashback",type:{kind:"simple",type:"address",optional:!1}}]},{name:"ChangeOwner",header:2174598809,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"newOwner",type:{kind:"simple",type:"address",optional:!1}}]},{name:"ChangeOwnerOk",header:846932810,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"newOwner",type:{kind:"simple",type:"address",optional:!1}}]},{name:"TaskData",header:null,fields:[{name:"id",type:{kind:"simple",type:"uint",optional:!1,format:128}},{name:"creator",type:{kind:"simple",type:"address",optional:!1}},{name:"executor",type:{kind:"simple",type:"address",optional:!1}},{name:"coin_amount",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"status",type:{kind:"simple",type:"uint",optional:!1,format:8}}]},{name:"InternalTask",header:170908148,fields:[{name:"id",type:{kind:"simple",type:"uint",optional:!1,format:128}},{name:"creator",type:{kind:"simple",type:"address",optional:!1}},{name:"executor",type:{kind:"simple",type:"address",optional:!1}},{name:"coin_amount",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"ChildCallback",header:2083249270,fields:[{name:"id",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"address",type:{kind:"simple",type:"address",optional:!1}}]},{name:"TaskAddresses",header:null,fields:[{name:"address",type:{kind:"dict",key:"uint",keyFormat:32,value:"address"}},{name:"length",type:{kind:"simple",type:"uint",optional:!1,format:32}}]}],vr=[{name:"balance",arguments:[],returnType:{kind:"simple",type:"string",optional:!1}},{name:"addressOfChild",arguments:[{name:"id",type:{kind:"simple",type:"int",optional:!1,format:257}}],returnType:{kind:"simple",type:"address",optional:!0}},{name:"owner",arguments:[],returnType:{kind:"simple",type:"address",optional:!1}}],_r=[{receiver:"internal",message:{kind:"typed",type:"InternalTask"}},{receiver:"internal",message:{kind:"typed",type:"ChildCallback"}},{receiver:"internal",message:{kind:"empty"}},{receiver:"internal",message:{kind:"typed",type:"Deploy"}}];class ft{constructor(t,a){this.abi={types:wr,getters:vr,receivers:_r,errors:Cr},this.address=t,this.init=a}static async init(){return await _n()}static async fromInit(){const t=await _n(),a=k.contractAddress(0,t);return new ft(a,t)}static fromAddress(t){return new ft(t)}async send(t,a,r,i){let l=null;if(i&&typeof i=="object"&&!(i instanceof k.Slice)&&i.$$type==="InternalTask"&&(l=k.beginCell().store(Ar(i)).endCell()),i&&typeof i=="object"&&!(i instanceof k.Slice)&&i.$$type==="ChildCallback"&&(l=k.beginCell().store(br(i)).endCell()),i===null&&(l=new k.Cell),i&&typeof i=="object"&&!(i instanceof k.Slice)&&i.$$type==="Deploy"&&(l=k.beginCell().store(pr(i)).endCell()),l===null)throw new Error("Invalid message type");await t.internal(a,{...r,body:l})}async getBalance(t){let a=new k.TupleBuilder;return(await t.get("balance",a.build())).stack.readString()}async getAddressOfChild(t,a){let r=new k.TupleBuilder;return r.writeNumber(a),(await t.get("addressOfChild",r.build())).stack.readAddressOpt()}async getOwner(t){let a=new k.TupleBuilder;return(await t.get("owner",a.build())).stack.readAddress()}}var xn={},nt={},mt={};Object.defineProperty(mt,"__esModule",{value:!0});mt.InMemoryCache=void 0;class Ir{constructor(){this.cache=new Map,this.set=async(t,a,r)=>{r!==null?this.cache.set(t+"$$"+a,r):this.cache.delete(t+"$$"+a)},this.get=async(t,a)=>{let r=this.cache.get(t+"$$"+a);return r!==void 0?r:null}}}mt.InMemoryCache=Ir;var Br=function(){function e(a,r){if(typeof a!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+a+"."));this._batchLoadFn=a,this._maxBatchSize=Er(r),this._batchScheduleFn=Mr(r),this._cacheKeyFn=Sr(r),this._cacheMap=zr(r),this._batch=null,this.name=Dr(r)}var t=e.prototype;return t.load=function(r){if(r==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(r)+"."));var i=kr(this),l=this._cacheMap,f=this._cacheKeyFn(r);if(l){var d=l.get(f);if(d){var m=i.cacheHits||(i.cacheHits=[]);return new Promise(function(w){m.push(function(){w(d)})})}}i.keys.push(r);var y=new Promise(function(w,E){i.callbacks.push({resolve:w,reject:E})});return l&&l.set(f,y),y},t.loadMany=function(r){if(!Qn(r))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+r+"."));for(var i=[],l=0;l<r.length;l++)i.push(this.load(r[l]).catch(function(f){return f}));return Promise.all(i)},t.clear=function(r){var i=this._cacheMap;if(i){var l=this._cacheKeyFn(r);i.delete(l)}return this},t.clearAll=function(){var r=this._cacheMap;return r&&r.clear(),this},t.prime=function(r,i){var l=this._cacheMap;if(l){var f=this._cacheKeyFn(r);if(l.get(f)===void 0){var d;i instanceof Error?(d=Promise.reject(i),d.catch(function(){})):d=Promise.resolve(i),l.set(f,d)}}return this},e}(),Tr=typeof jt=="object"&&typeof jt.nextTick=="function"?function(e){Ot||(Ot=Promise.resolve()),Ot.then(function(){jt.nextTick(e)})}:typeof setImmediate=="function"?function(e){setImmediate(e)}:function(e){setTimeout(e)},Ot;function kr(e){var t=e._batch;if(t!==null&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var a={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=a,e._batchScheduleFn(function(){Pr(e,a)}),a}function Pr(e,t){if(t.hasDispatched=!0,t.keys.length===0){Rt(t);return}var a;try{a=e._batchLoadFn(t.keys)}catch(r){return Nt(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(r)+".")))}if(!a||typeof a.then!="function")return Nt(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(a)+".")));a.then(function(r){if(!Qn(r))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(r)+"."));if(r.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(t.keys))+(`

Values:
`+String(r)));Rt(t);for(var i=0;i<t.callbacks.length;i++){var l=r[i];l instanceof Error?t.callbacks[i].reject(l):t.callbacks[i].resolve(l)}}).catch(function(r){Nt(e,t,r)})}function Nt(e,t,a){Rt(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(a)}function Rt(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function Er(e){var t=!e||e.batch!==!1;if(!t)return 1;var a=e&&e.maxBatchSize;if(a===void 0)return 1/0;if(typeof a!="number"||a<1)throw new TypeError("maxBatchSize must be a positive number: "+a);return a}function Mr(e){var t=e&&e.batchScheduleFn;if(t===void 0)return Tr;if(typeof t!="function")throw new TypeError("batchScheduleFn must be a function: "+t);return t}function Sr(e){var t=e&&e.cacheKeyFn;if(t===void 0)return function(a){return a};if(typeof t!="function")throw new TypeError("cacheKeyFn must be a function: "+t);return t}function zr(e){var t=!e||e.cache!==!1;if(!t)return null;var a=e&&e.cacheMap;if(a===void 0)return new Map;if(a!==null){var r=["get","set","delete","clear"],i=r.filter(function(l){return a&&typeof a[l]!="function"});if(i.length!==0)throw new TypeError("Custom cacheMap missing methods: "+i.join(", "))}return a}function Dr(e){return e&&e.name?e.name:null}function Qn(e){return typeof e=="object"&&e!==null&&typeof e.length=="number"&&(e.length===0||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}var Ur=Br;const Vn=Xa(yr);var $t={},Ht={},ce={},yt={},at={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getParsedType=e.ZodParsedType=e.objectUtil=e.util=void 0;var t;(function(r){r.assertEqual=d=>d;function i(d){}r.assertIs=i;function l(d){throw new Error}r.assertNever=l,r.arrayToEnum=d=>{const m={};for(const y of d)m[y]=y;return m},r.getValidEnumValues=d=>{const m=r.objectKeys(d).filter(w=>typeof d[d[w]]!="number"),y={};for(const w of m)y[w]=d[w];return r.objectValues(y)},r.objectValues=d=>r.objectKeys(d).map(function(m){return d[m]}),r.objectKeys=typeof Object.keys=="function"?d=>Object.keys(d):d=>{const m=[];for(const y in d)Object.prototype.hasOwnProperty.call(d,y)&&m.push(y);return m},r.find=(d,m)=>{for(const y of d)if(m(y))return y},r.isInteger=typeof Number.isInteger=="function"?d=>Number.isInteger(d):d=>typeof d=="number"&&isFinite(d)&&Math.floor(d)===d;function f(d,m=" | "){return d.map(y=>typeof y=="string"?`'${y}'`:y).join(m)}r.joinValues=f,r.jsonStringifyReplacer=(d,m)=>typeof m=="bigint"?m.toString():m})(t=e.util||(e.util={})),function(r){r.mergeShapes=(i,l)=>({...i,...l})}(e.objectUtil||(e.objectUtil={})),e.ZodParsedType=t.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);const a=r=>{switch(typeof r){case"undefined":return e.ZodParsedType.undefined;case"string":return e.ZodParsedType.string;case"number":return isNaN(r)?e.ZodParsedType.nan:e.ZodParsedType.number;case"boolean":return e.ZodParsedType.boolean;case"function":return e.ZodParsedType.function;case"bigint":return e.ZodParsedType.bigint;case"symbol":return e.ZodParsedType.symbol;case"object":return Array.isArray(r)?e.ZodParsedType.array:r===null?e.ZodParsedType.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?e.ZodParsedType.promise:typeof Map<"u"&&r instanceof Map?e.ZodParsedType.map:typeof Set<"u"&&r instanceof Set?e.ZodParsedType.set:typeof Date<"u"&&r instanceof Date?e.ZodParsedType.date:e.ZodParsedType.object;default:return e.ZodParsedType.unknown}};e.getParsedType=a})(at);var ue={};Object.defineProperty(ue,"__esModule",{value:!0});ue.ZodError=ue.quotelessJson=ue.ZodIssueCode=void 0;const Rn=at;ue.ZodIssueCode=Rn.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);const Zr=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");ue.quotelessJson=Zr;class et extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const a=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,a):this.__proto__=a,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const a=t||function(l){return l.message},r={_errors:[]},i=l=>{for(const f of l.issues)if(f.code==="invalid_union")f.unionErrors.map(i);else if(f.code==="invalid_return_type")i(f.returnTypeError);else if(f.code==="invalid_arguments")i(f.argumentsError);else if(f.path.length===0)r._errors.push(a(f));else{let d=r,m=0;for(;m<f.path.length;){const y=f.path[m];m===f.path.length-1?(d[y]=d[y]||{_errors:[]},d[y]._errors.push(a(f))):d[y]=d[y]||{_errors:[]},d=d[y],m++}}};return i(this),r}static assert(t){if(!(t instanceof et))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Rn.util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=a=>a.message){const a={},r=[];for(const i of this.issues)i.path.length>0?(a[i.path[0]]=a[i.path[0]]||[],a[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:a}}get formErrors(){return this.flatten()}}ue.ZodError=et;et.create=e=>new et(e);Object.defineProperty(yt,"__esModule",{value:!0});const _e=at,V=ue,Lr=(e,t)=>{let a;switch(e.code){case V.ZodIssueCode.invalid_type:e.received===_e.ZodParsedType.undefined?a="Required":a=`Expected ${e.expected}, received ${e.received}`;break;case V.ZodIssueCode.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(e.expected,_e.util.jsonStringifyReplacer)}`;break;case V.ZodIssueCode.unrecognized_keys:a=`Unrecognized key(s) in object: ${_e.util.joinValues(e.keys,", ")}`;break;case V.ZodIssueCode.invalid_union:a="Invalid input";break;case V.ZodIssueCode.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${_e.util.joinValues(e.options)}`;break;case V.ZodIssueCode.invalid_enum_value:a=`Invalid enum value. Expected ${_e.util.joinValues(e.options)}, received '${e.received}'`;break;case V.ZodIssueCode.invalid_arguments:a="Invalid function arguments";break;case V.ZodIssueCode.invalid_return_type:a="Invalid function return type";break;case V.ZodIssueCode.invalid_date:a="Invalid date";break;case V.ZodIssueCode.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(a=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(a=`${a} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?a=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?a=`Invalid input: must end with "${e.validation.endsWith}"`:_e.util.assertNever(e.validation):e.validation!=="regex"?a=`Invalid ${e.validation}`:a="Invalid";break;case V.ZodIssueCode.too_small:e.type==="array"?a=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?a=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?a=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?a=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:a="Invalid input";break;case V.ZodIssueCode.too_big:e.type==="array"?a=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?a=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?a=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?a=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?a=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:a="Invalid input";break;case V.ZodIssueCode.custom:a="Invalid input";break;case V.ZodIssueCode.invalid_intersection_types:a="Intersection results could not be merged";break;case V.ZodIssueCode.not_multiple_of:a=`Number must be a multiple of ${e.multipleOf}`;break;case V.ZodIssueCode.not_finite:a="Number must be finite";break;default:a=t.defaultError,_e.util.assertNever(e)}return{message:a}};yt.default=Lr;var jr=z&&z.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ce,"__esModule",{value:!0});ce.getErrorMap=ce.setErrorMap=ce.defaultErrorMap=void 0;const Hn=jr(yt);ce.defaultErrorMap=Hn.default;let Fn=Hn.default;function Or(e){Fn=e}ce.setErrorMap=Or;function Nr(){return Fn}ce.getErrorMap=Nr;var Xt={};(function(e){var t=z&&z.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=e.isValid=e.isDirty=e.isAborted=e.OK=e.DIRTY=e.INVALID=e.ParseStatus=e.addIssueToContext=e.EMPTY_PATH=e.makeIssue=void 0;const a=ce,r=t(yt),i=C=>{const{data:O,path:L,errorMaps:N,issueData:U}=C,x=[...L,...U.path||[]],H={...U,path:x};if(U.message!==void 0)return{...U,path:x,message:U.message};let M="";const ne=N.filter(W=>!!W).slice().reverse();for(const W of ne)M=W(H,{data:O,defaultError:M}).message;return{...U,path:x,message:M}};e.makeIssue=i,e.EMPTY_PATH=[];function l(C,O){const L=(0,a.getErrorMap)(),N=(0,e.makeIssue)({issueData:O,data:C.data,path:C.path,errorMaps:[C.common.contextualErrorMap,C.schemaErrorMap,L,L===r.default?void 0:r.default].filter(U=>!!U)});C.common.issues.push(N)}e.addIssueToContext=l;class f{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(O,L){const N=[];for(const U of L){if(U.status==="aborted")return e.INVALID;U.status==="dirty"&&O.dirty(),N.push(U.value)}return{status:O.value,value:N}}static async mergeObjectAsync(O,L){const N=[];for(const U of L){const x=await U.key,H=await U.value;N.push({key:x,value:H})}return f.mergeObjectSync(O,N)}static mergeObjectSync(O,L){const N={};for(const U of L){const{key:x,value:H}=U;if(x.status==="aborted"||H.status==="aborted")return e.INVALID;x.status==="dirty"&&O.dirty(),H.status==="dirty"&&O.dirty(),x.value!=="__proto__"&&(typeof H.value<"u"||U.alwaysSet)&&(N[x.value]=H.value)}return{status:O.value,value:N}}}e.ParseStatus=f,e.INVALID=Object.freeze({status:"aborted"});const d=C=>({status:"dirty",value:C});e.DIRTY=d;const m=C=>({status:"valid",value:C});e.OK=m;const y=C=>C.status==="aborted";e.isAborted=y;const w=C=>C.status==="dirty";e.isDirty=w;const E=C=>C.status==="valid";e.isValid=E;const v=C=>typeof Promise<"u"&&C instanceof Promise;e.isAsync=v})(Xt);var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});var Jn={},Kn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.errorUtil=void 0,function(t){t.errToObj=a=>typeof a=="string"?{message:a}:a||{},t.toString=a=>typeof a=="string"?a:a==null?void 0:a.message}(e.errorUtil||(e.errorUtil={}))})(Kn);(function(e){var t=z&&z.__classPrivateFieldGet||function(u,n,s,o){if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?u!==n||!o:!n.has(u))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?o:s==="a"?o.call(u):o?o.value:n.get(u)},a=z&&z.__classPrivateFieldSet||function(u,n,s,o,g){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!g)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?u!==n||!g:!n.has(u))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?g.call(u,s):g?g.value=s:n.set(u,s),s},r,i;Object.defineProperty(e,"__esModule",{value:!0}),e.boolean=e.bigint=e.array=e.any=e.coerce=e.ZodFirstPartyTypeKind=e.late=e.ZodSchema=e.Schema=e.custom=e.ZodReadonly=e.ZodPipeline=e.ZodBranded=e.BRAND=e.ZodNaN=e.ZodCatch=e.ZodDefault=e.ZodNullable=e.ZodOptional=e.ZodTransformer=e.ZodEffects=e.ZodPromise=e.ZodNativeEnum=e.ZodEnum=e.ZodLiteral=e.ZodLazy=e.ZodFunction=e.ZodSet=e.ZodMap=e.ZodRecord=e.ZodTuple=e.ZodIntersection=e.ZodDiscriminatedUnion=e.ZodUnion=e.ZodObject=e.ZodArray=e.ZodVoid=e.ZodNever=e.ZodUnknown=e.ZodAny=e.ZodNull=e.ZodUndefined=e.ZodSymbol=e.ZodDate=e.ZodBoolean=e.ZodBigInt=e.ZodNumber=e.ZodString=e.datetimeRegex=e.ZodType=void 0,e.NEVER=e.void=e.unknown=e.union=e.undefined=e.tuple=e.transformer=e.symbol=e.string=e.strictObject=e.set=e.record=e.promise=e.preprocess=e.pipeline=e.ostring=e.optional=e.onumber=e.oboolean=e.object=e.number=e.nullable=e.null=e.never=e.nativeEnum=e.nan=e.map=e.literal=e.lazy=e.intersection=e.instanceof=e.function=e.enum=e.effect=e.discriminatedUnion=e.date=void 0;const l=ce,f=Kn,d=Xt,m=at,y=ue;class w{constructor(n,s,o,g){this._cachedPath=[],this.parent=n,this.data=s,this._path=o,this._key=g}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const E=(u,n)=>{if((0,d.isValid)(n))return{success:!0,data:n.value};if(!u.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new y.ZodError(u.common.issues);return this._error=s,this._error}}};function v(u){if(!u)return{};const{errorMap:n,invalid_type_error:s,required_error:o,description:g}=u;if(n&&(s||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return n?{errorMap:n,description:g}:{errorMap:(A,p)=>{var _,I;const{message:P}=u;return A.code==="invalid_enum_value"?{message:P??p.defaultError}:typeof p.data>"u"?{message:(_=P??o)!==null&&_!==void 0?_:p.defaultError}:A.code!=="invalid_type"?{message:p.defaultError}:{message:(I=P??s)!==null&&I!==void 0?I:p.defaultError}},description:g}}class C{constructor(n){this.spa=this.safeParseAsync,this._def=n,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(n){return(0,m.getParsedType)(n.data)}_getOrReturnCtx(n,s){return s||{common:n.parent.common,data:n.data,parsedType:(0,m.getParsedType)(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}_processInputParams(n){return{status:new d.ParseStatus,ctx:{common:n.parent.common,data:n.data,parsedType:(0,m.getParsedType)(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}}_parseSync(n){const s=this._parse(n);if((0,d.isAsync)(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(n){const s=this._parse(n);return Promise.resolve(s)}parse(n,s){const o=this.safeParse(n,s);if(o.success)return o.data;throw o.error}safeParse(n,s){var o;const g={common:{issues:[],async:(o=s==null?void 0:s.async)!==null&&o!==void 0?o:!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:(0,m.getParsedType)(n)},h=this._parseSync({data:n,path:g.path,parent:g});return E(g,h)}async parseAsync(n,s){const o=await this.safeParseAsync(n,s);if(o.success)return o.data;throw o.error}async safeParseAsync(n,s){const o={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:(0,m.getParsedType)(n)},g=this._parse({data:n,path:o.path,parent:o}),h=await((0,d.isAsync)(g)?g:Promise.resolve(g));return E(o,h)}refine(n,s){const o=g=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(g):s;return this._refinement((g,h)=>{const A=n(g),p=()=>h.addIssue({code:y.ZodIssueCode.custom,...o(g)});return typeof Promise<"u"&&A instanceof Promise?A.then(_=>_?!0:(p(),!1)):A?!0:(p(),!1)})}refinement(n,s){return this._refinement((o,g)=>n(o)?!0:(g.addIssue(typeof s=="function"?s(o,g):s),!1))}_refinement(n){return new se({schema:this,typeName:T.ZodEffects,effect:{type:"refinement",refinement:n}})}superRefine(n){return this._refinement(n)}optional(){return le.create(this,this._def)}nullable(){return be.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return re.create(this,this._def)}promise(){return Pe.create(this,this._def)}or(n){return Ue.create([this,n],this._def)}and(n){return Ze.create(this,n,this._def)}transform(n){return new se({...v(this._def),schema:this,typeName:T.ZodEffects,effect:{type:"transform",transform:n}})}default(n){const s=typeof n=="function"?n:()=>n;return new xe({...v(this._def),innerType:this,defaultValue:s,typeName:T.ZodDefault})}brand(){return new Zt({typeName:T.ZodBranded,type:this,...v(this._def)})}catch(n){const s=typeof n=="function"?n:()=>n;return new Qe({...v(this._def),innerType:this,catchValue:s,typeName:T.ZodCatch})}describe(n){const s=this.constructor;return new s({...this._def,description:n})}pipe(n){return Ve.create(this,n)}readonly(){return Re.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}e.ZodType=C,e.Schema=C,e.ZodSchema=C;const O=/^c[^\s-]{8,}$/i,L=/^[0-9a-z]+$/,N=/^[0-9A-HJKMNP-TV-Z]{26}$/,U=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,x=/^[a-z0-9_-]{21}$/i,H=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,M=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ne="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let W;const oe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,fe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,he="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ga=new RegExp(`^${he}$`);function gn(u){let n="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return u.precision?n=`${n}\\.\\d{${u.precision}}`:u.precision==null&&(n=`${n}(\\.\\d+)?`),n}function ma(u){return new RegExp(`^${gn(u)}$`)}function mn(u){let n=`${he}T${gn(u)}`;const s=[];return s.push(u.local?"Z?":"Z"),u.offset&&s.push("([+-]\\d{2}:?\\d{2})"),n=`${n}(${s.join("|")})`,new RegExp(`^${n}$`)}e.datetimeRegex=mn;function ya(u,n){return!!((n==="v4"||!n)&&oe.test(u)||(n==="v6"||!n)&&$.test(u))}class ae extends C{_parse(n){if(this._def.coerce&&(n.data=String(n.data)),this._getType(n)!==m.ZodParsedType.string){const h=this._getOrReturnCtx(n);return(0,d.addIssueToContext)(h,{code:y.ZodIssueCode.invalid_type,expected:m.ZodParsedType.string,received:h.parsedType}),d.INVALID}const o=new d.ParseStatus;let g;for(const h of this._def.checks)if(h.kind==="min")n.data.length<h.value&&(g=this._getOrReturnCtx(n,g),(0,d.addIssueToContext)(g,{code:y.ZodIssueCode.too_small,minimum:h.value,type:"string",inclusive:!0,exact:!1,message:h.message}),o.dirty());else if(h.kind==="max")n.data.length>h.value&&(g=this._getOrReturnCtx(n,g),(0,d.addIssueToContext)(g,{code:y.ZodIssueCode.too_big,maximum:h.value,type:"string",inclusive:!0,exact:!1,message:h.message}),o.dirty());else if(h.kind==="length"){const A=n.data.length>h.value,p=n.data.length<h.value;(A||p)&&(g=this._getOrReturnCtx(n,g),A?(0,d.addIssueToContext)(g,{code:y.ZodIssueCode.too_big,maximum:h.value,type:"string",inclusive:!0,exact:!0,message:h.message}):p&&(0,d.addIssueToContext)(g,{code:y.ZodIssueCode.too_small,minimum:h.value,type:"string",inclusive:!0,exact:!0,message:h.message}),o.dirty())}else if(h.kind==="email")M.test(n.data)||(g=this._getOrReturnCtx(n,g),(0,d.addIssueToContext)(g,{validation:"email",code:y.ZodIssueCode.invalid_string,message:h.message}),o.dirty());else if(h.kind==="emoji")W||(W=new RegExp(ne,"u")),W.test(n.data)||(g=this._getOrReturnCtx(n,g),(0,d.addIssueToContext)(g,{validation:"emoji",code:y.ZodIssueCode.invalid_string,message:h.message}),o.dirty());else if(h.kind==="uuid")U.test(n.data)||(g=this._getOrReturnCtx(n,g),(0,d.addIssueToContext)(g,{validation:"uuid",code:y.ZodIssueCode.invalid_string,message:h.message}),o.dirty());else if(h.kind==="nanoid")x.test(n.data)||(g=this._getOrReturnCtx(n,g),(0,d.addIssueToContext)(g,{validation:"nanoid",code:y.ZodIssueCode.invalid_string,message:h.message}),o.dirty());else if(h.kind==="cuid")O.test(n.data)||(g=this._getOrReturnCtx(n,g),(0,d.addIssueToContext)(g,{validation:"cuid",code:y.ZodIssueCode.invalid_string,message:h.message}),o.dirty());else if(h.kind==="cuid2")L.test(n.data)||(g=this._getOrReturnCtx(n,g),(0,d.addIssueToContext)(g,{validation:"cuid2",code:y.ZodIssueCode.invalid_string,message:h.message}),o.dirty());else if(h.kind==="ulid")N.test(n.data)||(g=this._getOrReturnCtx(n,g),(0,d.addIssueToContext)(g,{validation:"ulid",code:y.ZodIssueCode.invalid_string,message:h.message}),o.dirty());else if(h.kind==="url")try{new URL(n.data)}catch{g=this._getOrReturnCtx(n,g),(0,d.addIssueToContext)(g,{validation:"url",code:y.ZodIssueCode.invalid_string,message:h.message}),o.dirty()}else h.kind==="regex"?(h.regex.lastIndex=0,h.regex.test(n.data)||(g=this._getOrReturnCtx(n,g),(0,d.addIssueToContext)(g,{validation:"regex",code:y.ZodIssueCode.invalid_string,message:h.message}),o.dirty())):h.kind==="trim"?n.data=n.data.trim():h.kind==="includes"?n.data.includes(h.value,h.position)||(g=this._getOrReturnCtx(n,g),(0,d.addIssueToContext)(g,{code:y.ZodIssueCode.invalid_string,validation:{includes:h.value,position:h.position},message:h.message}),o.dirty()):h.kind==="toLowerCase"?n.data=n.data.toLowerCase():h.kind==="toUpperCase"?n.data=n.data.toUpperCase():h.kind==="startsWith"?n.data.startsWith(h.value)||(g=this._getOrReturnCtx(n,g),(0,d.addIssueToContext)(g,{code:y.ZodIssueCode.invalid_string,validation:{startsWith:h.value},message:h.message}),o.dirty()):h.kind==="endsWith"?n.data.endsWith(h.value)||(g=this._getOrReturnCtx(n,g),(0,d.addIssueToContext)(g,{code:y.ZodIssueCode.invalid_string,validation:{endsWith:h.value},message:h.message}),o.dirty()):h.kind==="datetime"?mn(h).test(n.data)||(g=this._getOrReturnCtx(n,g),(0,d.addIssueToContext)(g,{code:y.ZodIssueCode.invalid_string,validation:"datetime",message:h.message}),o.dirty()):h.kind==="date"?ga.test(n.data)||(g=this._getOrReturnCtx(n,g),(0,d.addIssueToContext)(g,{code:y.ZodIssueCode.invalid_string,validation:"date",message:h.message}),o.dirty()):h.kind==="time"?ma(h).test(n.data)||(g=this._getOrReturnCtx(n,g),(0,d.addIssueToContext)(g,{code:y.ZodIssueCode.invalid_string,validation:"time",message:h.message}),o.dirty()):h.kind==="duration"?H.test(n.data)||(g=this._getOrReturnCtx(n,g),(0,d.addIssueToContext)(g,{validation:"duration",code:y.ZodIssueCode.invalid_string,message:h.message}),o.dirty()):h.kind==="ip"?ya(n.data,h.version)||(g=this._getOrReturnCtx(n,g),(0,d.addIssueToContext)(g,{validation:"ip",code:y.ZodIssueCode.invalid_string,message:h.message}),o.dirty()):h.kind==="base64"?fe.test(n.data)||(g=this._getOrReturnCtx(n,g),(0,d.addIssueToContext)(g,{validation:"base64",code:y.ZodIssueCode.invalid_string,message:h.message}),o.dirty()):m.util.assertNever(h);return{status:o.value,value:n.data}}_regex(n,s,o){return this.refinement(g=>n.test(g),{validation:s,code:y.ZodIssueCode.invalid_string,...f.errorUtil.errToObj(o)})}_addCheck(n){return new ae({...this._def,checks:[...this._def.checks,n]})}email(n){return this._addCheck({kind:"email",...f.errorUtil.errToObj(n)})}url(n){return this._addCheck({kind:"url",...f.errorUtil.errToObj(n)})}emoji(n){return this._addCheck({kind:"emoji",...f.errorUtil.errToObj(n)})}uuid(n){return this._addCheck({kind:"uuid",...f.errorUtil.errToObj(n)})}nanoid(n){return this._addCheck({kind:"nanoid",...f.errorUtil.errToObj(n)})}cuid(n){return this._addCheck({kind:"cuid",...f.errorUtil.errToObj(n)})}cuid2(n){return this._addCheck({kind:"cuid2",...f.errorUtil.errToObj(n)})}ulid(n){return this._addCheck({kind:"ulid",...f.errorUtil.errToObj(n)})}base64(n){return this._addCheck({kind:"base64",...f.errorUtil.errToObj(n)})}ip(n){return this._addCheck({kind:"ip",...f.errorUtil.errToObj(n)})}datetime(n){var s,o;return typeof n=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:n}):this._addCheck({kind:"datetime",precision:typeof(n==null?void 0:n.precision)>"u"?null:n==null?void 0:n.precision,offset:(s=n==null?void 0:n.offset)!==null&&s!==void 0?s:!1,local:(o=n==null?void 0:n.local)!==null&&o!==void 0?o:!1,...f.errorUtil.errToObj(n==null?void 0:n.message)})}date(n){return this._addCheck({kind:"date",message:n})}time(n){return typeof n=="string"?this._addCheck({kind:"time",precision:null,message:n}):this._addCheck({kind:"time",precision:typeof(n==null?void 0:n.precision)>"u"?null:n==null?void 0:n.precision,...f.errorUtil.errToObj(n==null?void 0:n.message)})}duration(n){return this._addCheck({kind:"duration",...f.errorUtil.errToObj(n)})}regex(n,s){return this._addCheck({kind:"regex",regex:n,...f.errorUtil.errToObj(s)})}includes(n,s){return this._addCheck({kind:"includes",value:n,position:s==null?void 0:s.position,...f.errorUtil.errToObj(s==null?void 0:s.message)})}startsWith(n,s){return this._addCheck({kind:"startsWith",value:n,...f.errorUtil.errToObj(s)})}endsWith(n,s){return this._addCheck({kind:"endsWith",value:n,...f.errorUtil.errToObj(s)})}min(n,s){return this._addCheck({kind:"min",value:n,...f.errorUtil.errToObj(s)})}max(n,s){return this._addCheck({kind:"max",value:n,...f.errorUtil.errToObj(s)})}length(n,s){return this._addCheck({kind:"length",value:n,...f.errorUtil.errToObj(s)})}nonempty(n){return this.min(1,f.errorUtil.errToObj(n))}trim(){return new ae({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ae({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ae({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(n=>n.kind==="datetime")}get isDate(){return!!this._def.checks.find(n=>n.kind==="date")}get isTime(){return!!this._def.checks.find(n=>n.kind==="time")}get isDuration(){return!!this._def.checks.find(n=>n.kind==="duration")}get isEmail(){return!!this._def.checks.find(n=>n.kind==="email")}get isURL(){return!!this._def.checks.find(n=>n.kind==="url")}get isEmoji(){return!!this._def.checks.find(n=>n.kind==="emoji")}get isUUID(){return!!this._def.checks.find(n=>n.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(n=>n.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(n=>n.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(n=>n.kind==="cuid2")}get isULID(){return!!this._def.checks.find(n=>n.kind==="ulid")}get isIP(){return!!this._def.checks.find(n=>n.kind==="ip")}get isBase64(){return!!this._def.checks.find(n=>n.kind==="base64")}get minLength(){let n=null;for(const s of this._def.checks)s.kind==="min"&&(n===null||s.value>n)&&(n=s.value);return n}get maxLength(){let n=null;for(const s of this._def.checks)s.kind==="max"&&(n===null||s.value<n)&&(n=s.value);return n}}e.ZodString=ae,ae.create=u=>{var n;return new ae({checks:[],typeName:T.ZodString,coerce:(n=u==null?void 0:u.coerce)!==null&&n!==void 0?n:!1,...v(u)})};function pa(u,n){const s=(u.toString().split(".")[1]||"").length,o=(n.toString().split(".")[1]||"").length,g=s>o?s:o,h=parseInt(u.toFixed(g).replace(".","")),A=parseInt(n.toFixed(g).replace(".",""));return h%A/Math.pow(10,g)}class ye extends C{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(n){if(this._def.coerce&&(n.data=Number(n.data)),this._getType(n)!==m.ZodParsedType.number){const h=this._getOrReturnCtx(n);return(0,d.addIssueToContext)(h,{code:y.ZodIssueCode.invalid_type,expected:m.ZodParsedType.number,received:h.parsedType}),d.INVALID}let o;const g=new d.ParseStatus;for(const h of this._def.checks)h.kind==="int"?m.util.isInteger(n.data)||(o=this._getOrReturnCtx(n,o),(0,d.addIssueToContext)(o,{code:y.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:h.message}),g.dirty()):h.kind==="min"?(h.inclusive?n.data<h.value:n.data<=h.value)&&(o=this._getOrReturnCtx(n,o),(0,d.addIssueToContext)(o,{code:y.ZodIssueCode.too_small,minimum:h.value,type:"number",inclusive:h.inclusive,exact:!1,message:h.message}),g.dirty()):h.kind==="max"?(h.inclusive?n.data>h.value:n.data>=h.value)&&(o=this._getOrReturnCtx(n,o),(0,d.addIssueToContext)(o,{code:y.ZodIssueCode.too_big,maximum:h.value,type:"number",inclusive:h.inclusive,exact:!1,message:h.message}),g.dirty()):h.kind==="multipleOf"?pa(n.data,h.value)!==0&&(o=this._getOrReturnCtx(n,o),(0,d.addIssueToContext)(o,{code:y.ZodIssueCode.not_multiple_of,multipleOf:h.value,message:h.message}),g.dirty()):h.kind==="finite"?Number.isFinite(n.data)||(o=this._getOrReturnCtx(n,o),(0,d.addIssueToContext)(o,{code:y.ZodIssueCode.not_finite,message:h.message}),g.dirty()):m.util.assertNever(h);return{status:g.value,value:n.data}}gte(n,s){return this.setLimit("min",n,!0,f.errorUtil.toString(s))}gt(n,s){return this.setLimit("min",n,!1,f.errorUtil.toString(s))}lte(n,s){return this.setLimit("max",n,!0,f.errorUtil.toString(s))}lt(n,s){return this.setLimit("max",n,!1,f.errorUtil.toString(s))}setLimit(n,s,o,g){return new ye({...this._def,checks:[...this._def.checks,{kind:n,value:s,inclusive:o,message:f.errorUtil.toString(g)}]})}_addCheck(n){return new ye({...this._def,checks:[...this._def.checks,n]})}int(n){return this._addCheck({kind:"int",message:f.errorUtil.toString(n)})}positive(n){return this._addCheck({kind:"min",value:0,inclusive:!1,message:f.errorUtil.toString(n)})}negative(n){return this._addCheck({kind:"max",value:0,inclusive:!1,message:f.errorUtil.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:0,inclusive:!0,message:f.errorUtil.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:0,inclusive:!0,message:f.errorUtil.toString(n)})}multipleOf(n,s){return this._addCheck({kind:"multipleOf",value:n,message:f.errorUtil.toString(s)})}finite(n){return this._addCheck({kind:"finite",message:f.errorUtil.toString(n)})}safe(n){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:f.errorUtil.toString(n)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:f.errorUtil.toString(n)})}get minValue(){let n=null;for(const s of this._def.checks)s.kind==="min"&&(n===null||s.value>n)&&(n=s.value);return n}get maxValue(){let n=null;for(const s of this._def.checks)s.kind==="max"&&(n===null||s.value<n)&&(n=s.value);return n}get isInt(){return!!this._def.checks.find(n=>n.kind==="int"||n.kind==="multipleOf"&&m.util.isInteger(n.value))}get isFinite(){let n=null,s=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(s===null||o.value>s)&&(s=o.value):o.kind==="max"&&(n===null||o.value<n)&&(n=o.value)}return Number.isFinite(s)&&Number.isFinite(n)}}e.ZodNumber=ye,ye.create=u=>new ye({checks:[],typeName:T.ZodNumber,coerce:(u==null?void 0:u.coerce)||!1,...v(u)});class pe extends C{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(n){if(this._def.coerce&&(n.data=BigInt(n.data)),this._getType(n)!==m.ZodParsedType.bigint){const h=this._getOrReturnCtx(n);return(0,d.addIssueToContext)(h,{code:y.ZodIssueCode.invalid_type,expected:m.ZodParsedType.bigint,received:h.parsedType}),d.INVALID}let o;const g=new d.ParseStatus;for(const h of this._def.checks)h.kind==="min"?(h.inclusive?n.data<h.value:n.data<=h.value)&&(o=this._getOrReturnCtx(n,o),(0,d.addIssueToContext)(o,{code:y.ZodIssueCode.too_small,type:"bigint",minimum:h.value,inclusive:h.inclusive,message:h.message}),g.dirty()):h.kind==="max"?(h.inclusive?n.data>h.value:n.data>=h.value)&&(o=this._getOrReturnCtx(n,o),(0,d.addIssueToContext)(o,{code:y.ZodIssueCode.too_big,type:"bigint",maximum:h.value,inclusive:h.inclusive,message:h.message}),g.dirty()):h.kind==="multipleOf"?n.data%h.value!==BigInt(0)&&(o=this._getOrReturnCtx(n,o),(0,d.addIssueToContext)(o,{code:y.ZodIssueCode.not_multiple_of,multipleOf:h.value,message:h.message}),g.dirty()):m.util.assertNever(h);return{status:g.value,value:n.data}}gte(n,s){return this.setLimit("min",n,!0,f.errorUtil.toString(s))}gt(n,s){return this.setLimit("min",n,!1,f.errorUtil.toString(s))}lte(n,s){return this.setLimit("max",n,!0,f.errorUtil.toString(s))}lt(n,s){return this.setLimit("max",n,!1,f.errorUtil.toString(s))}setLimit(n,s,o,g){return new pe({...this._def,checks:[...this._def.checks,{kind:n,value:s,inclusive:o,message:f.errorUtil.toString(g)}]})}_addCheck(n){return new pe({...this._def,checks:[...this._def.checks,n]})}positive(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:f.errorUtil.toString(n)})}negative(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:f.errorUtil.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:f.errorUtil.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:f.errorUtil.toString(n)})}multipleOf(n,s){return this._addCheck({kind:"multipleOf",value:n,message:f.errorUtil.toString(s)})}get minValue(){let n=null;for(const s of this._def.checks)s.kind==="min"&&(n===null||s.value>n)&&(n=s.value);return n}get maxValue(){let n=null;for(const s of this._def.checks)s.kind==="max"&&(n===null||s.value<n)&&(n=s.value);return n}}e.ZodBigInt=pe,pe.create=u=>{var n;return new pe({checks:[],typeName:T.ZodBigInt,coerce:(n=u==null?void 0:u.coerce)!==null&&n!==void 0?n:!1,...v(u)})};class Se extends C{_parse(n){if(this._def.coerce&&(n.data=!!n.data),this._getType(n)!==m.ZodParsedType.boolean){const o=this._getOrReturnCtx(n);return(0,d.addIssueToContext)(o,{code:y.ZodIssueCode.invalid_type,expected:m.ZodParsedType.boolean,received:o.parsedType}),d.INVALID}return(0,d.OK)(n.data)}}e.ZodBoolean=Se,Se.create=u=>new Se({typeName:T.ZodBoolean,coerce:(u==null?void 0:u.coerce)||!1,...v(u)});class Ce extends C{_parse(n){if(this._def.coerce&&(n.data=new Date(n.data)),this._getType(n)!==m.ZodParsedType.date){const h=this._getOrReturnCtx(n);return(0,d.addIssueToContext)(h,{code:y.ZodIssueCode.invalid_type,expected:m.ZodParsedType.date,received:h.parsedType}),d.INVALID}if(isNaN(n.data.getTime())){const h=this._getOrReturnCtx(n);return(0,d.addIssueToContext)(h,{code:y.ZodIssueCode.invalid_date}),d.INVALID}const o=new d.ParseStatus;let g;for(const h of this._def.checks)h.kind==="min"?n.data.getTime()<h.value&&(g=this._getOrReturnCtx(n,g),(0,d.addIssueToContext)(g,{code:y.ZodIssueCode.too_small,message:h.message,inclusive:!0,exact:!1,minimum:h.value,type:"date"}),o.dirty()):h.kind==="max"?n.data.getTime()>h.value&&(g=this._getOrReturnCtx(n,g),(0,d.addIssueToContext)(g,{code:y.ZodIssueCode.too_big,message:h.message,inclusive:!0,exact:!1,maximum:h.value,type:"date"}),o.dirty()):m.util.assertNever(h);return{status:o.value,value:new Date(n.data.getTime())}}_addCheck(n){return new Ce({...this._def,checks:[...this._def.checks,n]})}min(n,s){return this._addCheck({kind:"min",value:n.getTime(),message:f.errorUtil.toString(s)})}max(n,s){return this._addCheck({kind:"max",value:n.getTime(),message:f.errorUtil.toString(s)})}get minDate(){let n=null;for(const s of this._def.checks)s.kind==="min"&&(n===null||s.value>n)&&(n=s.value);return n!=null?new Date(n):null}get maxDate(){let n=null;for(const s of this._def.checks)s.kind==="max"&&(n===null||s.value<n)&&(n=s.value);return n!=null?new Date(n):null}}e.ZodDate=Ce,Ce.create=u=>new Ce({checks:[],coerce:(u==null?void 0:u.coerce)||!1,typeName:T.ZodDate,...v(u)});class st extends C{_parse(n){if(this._getType(n)!==m.ZodParsedType.symbol){const o=this._getOrReturnCtx(n);return(0,d.addIssueToContext)(o,{code:y.ZodIssueCode.invalid_type,expected:m.ZodParsedType.symbol,received:o.parsedType}),d.INVALID}return(0,d.OK)(n.data)}}e.ZodSymbol=st,st.create=u=>new st({typeName:T.ZodSymbol,...v(u)});class ze extends C{_parse(n){if(this._getType(n)!==m.ZodParsedType.undefined){const o=this._getOrReturnCtx(n);return(0,d.addIssueToContext)(o,{code:y.ZodIssueCode.invalid_type,expected:m.ZodParsedType.undefined,received:o.parsedType}),d.INVALID}return(0,d.OK)(n.data)}}e.ZodUndefined=ze,ze.create=u=>new ze({typeName:T.ZodUndefined,...v(u)});class De extends C{_parse(n){if(this._getType(n)!==m.ZodParsedType.null){const o=this._getOrReturnCtx(n);return(0,d.addIssueToContext)(o,{code:y.ZodIssueCode.invalid_type,expected:m.ZodParsedType.null,received:o.parsedType}),d.INVALID}return(0,d.OK)(n.data)}}e.ZodNull=De,De.create=u=>new De({typeName:T.ZodNull,...v(u)});class Be extends C{constructor(){super(...arguments),this._any=!0}_parse(n){return(0,d.OK)(n.data)}}e.ZodAny=Be,Be.create=u=>new Be({typeName:T.ZodAny,...v(u)});class we extends C{constructor(){super(...arguments),this._unknown=!0}_parse(n){return(0,d.OK)(n.data)}}e.ZodUnknown=we,we.create=u=>new we({typeName:T.ZodUnknown,...v(u)});class ge extends C{_parse(n){const s=this._getOrReturnCtx(n);return(0,d.addIssueToContext)(s,{code:y.ZodIssueCode.invalid_type,expected:m.ZodParsedType.never,received:s.parsedType}),d.INVALID}}e.ZodNever=ge,ge.create=u=>new ge({typeName:T.ZodNever,...v(u)});class it extends C{_parse(n){if(this._getType(n)!==m.ZodParsedType.undefined){const o=this._getOrReturnCtx(n);return(0,d.addIssueToContext)(o,{code:y.ZodIssueCode.invalid_type,expected:m.ZodParsedType.void,received:o.parsedType}),d.INVALID}return(0,d.OK)(n.data)}}e.ZodVoid=it,it.create=u=>new it({typeName:T.ZodVoid,...v(u)});class re extends C{_parse(n){const{ctx:s,status:o}=this._processInputParams(n),g=this._def;if(s.parsedType!==m.ZodParsedType.array)return(0,d.addIssueToContext)(s,{code:y.ZodIssueCode.invalid_type,expected:m.ZodParsedType.array,received:s.parsedType}),d.INVALID;if(g.exactLength!==null){const A=s.data.length>g.exactLength.value,p=s.data.length<g.exactLength.value;(A||p)&&((0,d.addIssueToContext)(s,{code:A?y.ZodIssueCode.too_big:y.ZodIssueCode.too_small,minimum:p?g.exactLength.value:void 0,maximum:A?g.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:g.exactLength.message}),o.dirty())}if(g.minLength!==null&&s.data.length<g.minLength.value&&((0,d.addIssueToContext)(s,{code:y.ZodIssueCode.too_small,minimum:g.minLength.value,type:"array",inclusive:!0,exact:!1,message:g.minLength.message}),o.dirty()),g.maxLength!==null&&s.data.length>g.maxLength.value&&((0,d.addIssueToContext)(s,{code:y.ZodIssueCode.too_big,maximum:g.maxLength.value,type:"array",inclusive:!0,exact:!1,message:g.maxLength.message}),o.dirty()),s.common.async)return Promise.all([...s.data].map((A,p)=>g.type._parseAsync(new w(s,A,s.path,p)))).then(A=>d.ParseStatus.mergeArray(o,A));const h=[...s.data].map((A,p)=>g.type._parseSync(new w(s,A,s.path,p)));return d.ParseStatus.mergeArray(o,h)}get element(){return this._def.type}min(n,s){return new re({...this._def,minLength:{value:n,message:f.errorUtil.toString(s)}})}max(n,s){return new re({...this._def,maxLength:{value:n,message:f.errorUtil.toString(s)}})}length(n,s){return new re({...this._def,exactLength:{value:n,message:f.errorUtil.toString(s)}})}nonempty(n){return this.min(1,n)}}e.ZodArray=re,re.create=(u,n)=>new re({type:u,minLength:null,maxLength:null,exactLength:null,typeName:T.ZodArray,...v(n)});function Te(u){if(u instanceof j){const n={};for(const s in u.shape){const o=u.shape[s];n[s]=le.create(Te(o))}return new j({...u._def,shape:()=>n})}else return u instanceof re?new re({...u._def,type:Te(u.element)}):u instanceof le?le.create(Te(u.unwrap())):u instanceof be?be.create(Te(u.unwrap())):u instanceof de?de.create(u.items.map(n=>Te(n))):u}class j extends C{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const n=this._def.shape(),s=m.util.objectKeys(n);return this._cached={shape:n,keys:s}}_parse(n){if(this._getType(n)!==m.ZodParsedType.object){const I=this._getOrReturnCtx(n);return(0,d.addIssueToContext)(I,{code:y.ZodIssueCode.invalid_type,expected:m.ZodParsedType.object,received:I.parsedType}),d.INVALID}const{status:o,ctx:g}=this._processInputParams(n),{shape:h,keys:A}=this._getCached(),p=[];if(!(this._def.catchall instanceof ge&&this._def.unknownKeys==="strip"))for(const I in g.data)A.includes(I)||p.push(I);const _=[];for(const I of A){const P=h[I],X=g.data[I];_.push({key:{status:"valid",value:I},value:P._parse(new w(g,X,g.path,I)),alwaysSet:I in g.data})}if(this._def.catchall instanceof ge){const I=this._def.unknownKeys;if(I==="passthrough")for(const P of p)_.push({key:{status:"valid",value:P},value:{status:"valid",value:g.data[P]}});else if(I==="strict")p.length>0&&((0,d.addIssueToContext)(g,{code:y.ZodIssueCode.unrecognized_keys,keys:p}),o.dirty());else if(I!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const I=this._def.catchall;for(const P of p){const X=g.data[P];_.push({key:{status:"valid",value:P},value:I._parse(new w(g,X,g.path,P)),alwaysSet:P in g.data})}}return g.common.async?Promise.resolve().then(async()=>{const I=[];for(const P of _){const X=await P.key,vn=await P.value;I.push({key:X,value:vn,alwaysSet:P.alwaysSet})}return I}).then(I=>d.ParseStatus.mergeObjectSync(o,I)):d.ParseStatus.mergeObjectSync(o,_)}get shape(){return this._def.shape()}strict(n){return f.errorUtil.errToObj,new j({...this._def,unknownKeys:"strict",...n!==void 0?{errorMap:(s,o)=>{var g,h,A,p;const _=(A=(h=(g=this._def).errorMap)===null||h===void 0?void 0:h.call(g,s,o).message)!==null&&A!==void 0?A:o.defaultError;return s.code==="unrecognized_keys"?{message:(p=f.errorUtil.errToObj(n).message)!==null&&p!==void 0?p:_}:{message:_}}}:{}})}strip(){return new j({...this._def,unknownKeys:"strip"})}passthrough(){return new j({...this._def,unknownKeys:"passthrough"})}extend(n){return new j({...this._def,shape:()=>({...this._def.shape(),...n})})}merge(n){return new j({unknownKeys:n._def.unknownKeys,catchall:n._def.catchall,shape:()=>({...this._def.shape(),...n._def.shape()}),typeName:T.ZodObject})}setKey(n,s){return this.augment({[n]:s})}catchall(n){return new j({...this._def,catchall:n})}pick(n){const s={};return m.util.objectKeys(n).forEach(o=>{n[o]&&this.shape[o]&&(s[o]=this.shape[o])}),new j({...this._def,shape:()=>s})}omit(n){const s={};return m.util.objectKeys(this.shape).forEach(o=>{n[o]||(s[o]=this.shape[o])}),new j({...this._def,shape:()=>s})}deepPartial(){return Te(this)}partial(n){const s={};return m.util.objectKeys(this.shape).forEach(o=>{const g=this.shape[o];n&&!n[o]?s[o]=g:s[o]=g.optional()}),new j({...this._def,shape:()=>s})}required(n){const s={};return m.util.objectKeys(this.shape).forEach(o=>{if(n&&!n[o])s[o]=this.shape[o];else{let h=this.shape[o];for(;h instanceof le;)h=h._def.innerType;s[o]=h}}),new j({...this._def,shape:()=>s})}keyof(){return yn(m.util.objectKeys(this.shape))}}e.ZodObject=j,j.create=(u,n)=>new j({shape:()=>u,unknownKeys:"strip",catchall:ge.create(),typeName:T.ZodObject,...v(n)}),j.strictCreate=(u,n)=>new j({shape:()=>u,unknownKeys:"strict",catchall:ge.create(),typeName:T.ZodObject,...v(n)}),j.lazycreate=(u,n)=>new j({shape:u,unknownKeys:"strip",catchall:ge.create(),typeName:T.ZodObject,...v(n)});class Ue extends C{_parse(n){const{ctx:s}=this._processInputParams(n),o=this._def.options;function g(h){for(const p of h)if(p.result.status==="valid")return p.result;for(const p of h)if(p.result.status==="dirty")return s.common.issues.push(...p.ctx.common.issues),p.result;const A=h.map(p=>new y.ZodError(p.ctx.common.issues));return(0,d.addIssueToContext)(s,{code:y.ZodIssueCode.invalid_union,unionErrors:A}),d.INVALID}if(s.common.async)return Promise.all(o.map(async h=>{const A={...s,common:{...s.common,issues:[]},parent:null};return{result:await h._parseAsync({data:s.data,path:s.path,parent:A}),ctx:A}})).then(g);{let h;const A=[];for(const _ of o){const I={...s,common:{...s.common,issues:[]},parent:null},P=_._parseSync({data:s.data,path:s.path,parent:I});if(P.status==="valid")return P;P.status==="dirty"&&!h&&(h={result:P,ctx:I}),I.common.issues.length&&A.push(I.common.issues)}if(h)return s.common.issues.push(...h.ctx.common.issues),h.result;const p=A.map(_=>new y.ZodError(_));return(0,d.addIssueToContext)(s,{code:y.ZodIssueCode.invalid_union,unionErrors:p}),d.INVALID}}get options(){return this._def.options}}e.ZodUnion=Ue,Ue.create=(u,n)=>new Ue({options:u,typeName:T.ZodUnion,...v(n)});const me=u=>u instanceof je?me(u.schema):u instanceof se?me(u.innerType()):u instanceof Oe?[u.value]:u instanceof Ae?u.options:u instanceof Ne?m.util.objectValues(u.enum):u instanceof xe?me(u._def.innerType):u instanceof ze?[void 0]:u instanceof De?[null]:u instanceof le?[void 0,...me(u.unwrap())]:u instanceof be?[null,...me(u.unwrap())]:u instanceof Zt||u instanceof Re?me(u.unwrap()):u instanceof Qe?me(u._def.innerType):[];class ot extends C{_parse(n){const{ctx:s}=this._processInputParams(n);if(s.parsedType!==m.ZodParsedType.object)return(0,d.addIssueToContext)(s,{code:y.ZodIssueCode.invalid_type,expected:m.ZodParsedType.object,received:s.parsedType}),d.INVALID;const o=this.discriminator,g=s.data[o],h=this.optionsMap.get(g);return h?s.common.async?h._parseAsync({data:s.data,path:s.path,parent:s}):h._parseSync({data:s.data,path:s.path,parent:s}):((0,d.addIssueToContext)(s,{code:y.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[o]}),d.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(n,s,o){const g=new Map;for(const h of s){const A=me(h.shape[n]);if(!A.length)throw new Error(`A discriminator value for key \`${n}\` could not be extracted from all schema options`);for(const p of A){if(g.has(p))throw new Error(`Discriminator property ${String(n)} has duplicate value ${String(p)}`);g.set(p,h)}}return new ot({typeName:T.ZodDiscriminatedUnion,discriminator:n,options:s,optionsMap:g,...v(o)})}}e.ZodDiscriminatedUnion=ot;function Ut(u,n){const s=(0,m.getParsedType)(u),o=(0,m.getParsedType)(n);if(u===n)return{valid:!0,data:u};if(s===m.ZodParsedType.object&&o===m.ZodParsedType.object){const g=m.util.objectKeys(n),h=m.util.objectKeys(u).filter(p=>g.indexOf(p)!==-1),A={...u,...n};for(const p of h){const _=Ut(u[p],n[p]);if(!_.valid)return{valid:!1};A[p]=_.data}return{valid:!0,data:A}}else if(s===m.ZodParsedType.array&&o===m.ZodParsedType.array){if(u.length!==n.length)return{valid:!1};const g=[];for(let h=0;h<u.length;h++){const A=u[h],p=n[h],_=Ut(A,p);if(!_.valid)return{valid:!1};g.push(_.data)}return{valid:!0,data:g}}else return s===m.ZodParsedType.date&&o===m.ZodParsedType.date&&+u==+n?{valid:!0,data:u}:{valid:!1}}class Ze extends C{_parse(n){const{status:s,ctx:o}=this._processInputParams(n),g=(h,A)=>{if((0,d.isAborted)(h)||(0,d.isAborted)(A))return d.INVALID;const p=Ut(h.value,A.value);return p.valid?(((0,d.isDirty)(h)||(0,d.isDirty)(A))&&s.dirty(),{status:s.value,value:p.data}):((0,d.addIssueToContext)(o,{code:y.ZodIssueCode.invalid_intersection_types}),d.INVALID)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([h,A])=>g(h,A)):g(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}e.ZodIntersection=Ze,Ze.create=(u,n,s)=>new Ze({left:u,right:n,typeName:T.ZodIntersection,...v(s)});class de extends C{_parse(n){const{status:s,ctx:o}=this._processInputParams(n);if(o.parsedType!==m.ZodParsedType.array)return(0,d.addIssueToContext)(o,{code:y.ZodIssueCode.invalid_type,expected:m.ZodParsedType.array,received:o.parsedType}),d.INVALID;if(o.data.length<this._def.items.length)return(0,d.addIssueToContext)(o,{code:y.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),d.INVALID;!this._def.rest&&o.data.length>this._def.items.length&&((0,d.addIssueToContext)(o,{code:y.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const h=[...o.data].map((A,p)=>{const _=this._def.items[p]||this._def.rest;return _?_._parse(new w(o,A,o.path,p)):null}).filter(A=>!!A);return o.common.async?Promise.all(h).then(A=>d.ParseStatus.mergeArray(s,A)):d.ParseStatus.mergeArray(s,h)}get items(){return this._def.items}rest(n){return new de({...this._def,rest:n})}}e.ZodTuple=de,de.create=(u,n)=>{if(!Array.isArray(u))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new de({items:u,typeName:T.ZodTuple,rest:null,...v(n)})};class Le extends C{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){const{status:s,ctx:o}=this._processInputParams(n);if(o.parsedType!==m.ZodParsedType.object)return(0,d.addIssueToContext)(o,{code:y.ZodIssueCode.invalid_type,expected:m.ZodParsedType.object,received:o.parsedType}),d.INVALID;const g=[],h=this._def.keyType,A=this._def.valueType;for(const p in o.data)g.push({key:h._parse(new w(o,p,o.path,p)),value:A._parse(new w(o,o.data[p],o.path,p)),alwaysSet:p in o.data});return o.common.async?d.ParseStatus.mergeObjectAsync(s,g):d.ParseStatus.mergeObjectSync(s,g)}get element(){return this._def.valueType}static create(n,s,o){return s instanceof C?new Le({keyType:n,valueType:s,typeName:T.ZodRecord,...v(o)}):new Le({keyType:ae.create(),valueType:n,typeName:T.ZodRecord,...v(s)})}}e.ZodRecord=Le;class dt extends C{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){const{status:s,ctx:o}=this._processInputParams(n);if(o.parsedType!==m.ZodParsedType.map)return(0,d.addIssueToContext)(o,{code:y.ZodIssueCode.invalid_type,expected:m.ZodParsedType.map,received:o.parsedType}),d.INVALID;const g=this._def.keyType,h=this._def.valueType,A=[...o.data.entries()].map(([p,_],I)=>({key:g._parse(new w(o,p,o.path,[I,"key"])),value:h._parse(new w(o,_,o.path,[I,"value"]))}));if(o.common.async){const p=new Map;return Promise.resolve().then(async()=>{for(const _ of A){const I=await _.key,P=await _.value;if(I.status==="aborted"||P.status==="aborted")return d.INVALID;(I.status==="dirty"||P.status==="dirty")&&s.dirty(),p.set(I.value,P.value)}return{status:s.value,value:p}})}else{const p=new Map;for(const _ of A){const I=_.key,P=_.value;if(I.status==="aborted"||P.status==="aborted")return d.INVALID;(I.status==="dirty"||P.status==="dirty")&&s.dirty(),p.set(I.value,P.value)}return{status:s.value,value:p}}}}e.ZodMap=dt,dt.create=(u,n,s)=>new dt({valueType:n,keyType:u,typeName:T.ZodMap,...v(s)});class ve extends C{_parse(n){const{status:s,ctx:o}=this._processInputParams(n);if(o.parsedType!==m.ZodParsedType.set)return(0,d.addIssueToContext)(o,{code:y.ZodIssueCode.invalid_type,expected:m.ZodParsedType.set,received:o.parsedType}),d.INVALID;const g=this._def;g.minSize!==null&&o.data.size<g.minSize.value&&((0,d.addIssueToContext)(o,{code:y.ZodIssueCode.too_small,minimum:g.minSize.value,type:"set",inclusive:!0,exact:!1,message:g.minSize.message}),s.dirty()),g.maxSize!==null&&o.data.size>g.maxSize.value&&((0,d.addIssueToContext)(o,{code:y.ZodIssueCode.too_big,maximum:g.maxSize.value,type:"set",inclusive:!0,exact:!1,message:g.maxSize.message}),s.dirty());const h=this._def.valueType;function A(_){const I=new Set;for(const P of _){if(P.status==="aborted")return d.INVALID;P.status==="dirty"&&s.dirty(),I.add(P.value)}return{status:s.value,value:I}}const p=[...o.data.values()].map((_,I)=>h._parse(new w(o,_,o.path,I)));return o.common.async?Promise.all(p).then(_=>A(_)):A(p)}min(n,s){return new ve({...this._def,minSize:{value:n,message:f.errorUtil.toString(s)}})}max(n,s){return new ve({...this._def,maxSize:{value:n,message:f.errorUtil.toString(s)}})}size(n,s){return this.min(n,s).max(n,s)}nonempty(n){return this.min(1,n)}}e.ZodSet=ve,ve.create=(u,n)=>new ve({valueType:u,minSize:null,maxSize:null,typeName:T.ZodSet,...v(n)});class ke extends C{constructor(){super(...arguments),this.validate=this.implement}_parse(n){const{ctx:s}=this._processInputParams(n);if(s.parsedType!==m.ZodParsedType.function)return(0,d.addIssueToContext)(s,{code:y.ZodIssueCode.invalid_type,expected:m.ZodParsedType.function,received:s.parsedType}),d.INVALID;function o(p,_){return(0,d.makeIssue)({data:p,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,(0,l.getErrorMap)(),l.defaultErrorMap].filter(I=>!!I),issueData:{code:y.ZodIssueCode.invalid_arguments,argumentsError:_}})}function g(p,_){return(0,d.makeIssue)({data:p,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,(0,l.getErrorMap)(),l.defaultErrorMap].filter(I=>!!I),issueData:{code:y.ZodIssueCode.invalid_return_type,returnTypeError:_}})}const h={errorMap:s.common.contextualErrorMap},A=s.data;if(this._def.returns instanceof Pe){const p=this;return(0,d.OK)(async function(..._){const I=new y.ZodError([]),P=await p._def.args.parseAsync(_,h).catch(Lt=>{throw I.addIssue(o(_,Lt)),I}),X=await Reflect.apply(A,this,P);return await p._def.returns._def.type.parseAsync(X,h).catch(Lt=>{throw I.addIssue(g(X,Lt)),I})})}else{const p=this;return(0,d.OK)(function(..._){const I=p._def.args.safeParse(_,h);if(!I.success)throw new y.ZodError([o(_,I.error)]);const P=Reflect.apply(A,this,I.data),X=p._def.returns.safeParse(P,h);if(!X.success)throw new y.ZodError([g(P,X.error)]);return X.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...n){return new ke({...this._def,args:de.create(n).rest(we.create())})}returns(n){return new ke({...this._def,returns:n})}implement(n){return this.parse(n)}strictImplement(n){return this.parse(n)}static create(n,s,o){return new ke({args:n||de.create([]).rest(we.create()),returns:s||we.create(),typeName:T.ZodFunction,...v(o)})}}e.ZodFunction=ke;class je extends C{get schema(){return this._def.getter()}_parse(n){const{ctx:s}=this._processInputParams(n);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}e.ZodLazy=je,je.create=(u,n)=>new je({getter:u,typeName:T.ZodLazy,...v(n)});class Oe extends C{_parse(n){if(n.data!==this._def.value){const s=this._getOrReturnCtx(n);return(0,d.addIssueToContext)(s,{received:s.data,code:y.ZodIssueCode.invalid_literal,expected:this._def.value}),d.INVALID}return{status:"valid",value:n.data}}get value(){return this._def.value}}e.ZodLiteral=Oe,Oe.create=(u,n)=>new Oe({value:u,typeName:T.ZodLiteral,...v(n)});function yn(u,n){return new Ae({values:u,typeName:T.ZodEnum,...v(n)})}class Ae extends C{constructor(){super(...arguments),r.set(this,void 0)}_parse(n){if(typeof n.data!="string"){const s=this._getOrReturnCtx(n),o=this._def.values;return(0,d.addIssueToContext)(s,{expected:m.util.joinValues(o),received:s.parsedType,code:y.ZodIssueCode.invalid_type}),d.INVALID}if(t(this,r,"f")||a(this,r,new Set(this._def.values),"f"),!t(this,r,"f").has(n.data)){const s=this._getOrReturnCtx(n),o=this._def.values;return(0,d.addIssueToContext)(s,{received:s.data,code:y.ZodIssueCode.invalid_enum_value,options:o}),d.INVALID}return(0,d.OK)(n.data)}get options(){return this._def.values}get enum(){const n={};for(const s of this._def.values)n[s]=s;return n}get Values(){const n={};for(const s of this._def.values)n[s]=s;return n}get Enum(){const n={};for(const s of this._def.values)n[s]=s;return n}extract(n,s=this._def){return Ae.create(n,{...this._def,...s})}exclude(n,s=this._def){return Ae.create(this.options.filter(o=>!n.includes(o)),{...this._def,...s})}}e.ZodEnum=Ae,r=new WeakMap,Ae.create=yn;class Ne extends C{constructor(){super(...arguments),i.set(this,void 0)}_parse(n){const s=m.util.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(n);if(o.parsedType!==m.ZodParsedType.string&&o.parsedType!==m.ZodParsedType.number){const g=m.util.objectValues(s);return(0,d.addIssueToContext)(o,{expected:m.util.joinValues(g),received:o.parsedType,code:y.ZodIssueCode.invalid_type}),d.INVALID}if(t(this,i,"f")||a(this,i,new Set(m.util.getValidEnumValues(this._def.values)),"f"),!t(this,i,"f").has(n.data)){const g=m.util.objectValues(s);return(0,d.addIssueToContext)(o,{received:o.data,code:y.ZodIssueCode.invalid_enum_value,options:g}),d.INVALID}return(0,d.OK)(n.data)}get enum(){return this._def.values}}e.ZodNativeEnum=Ne,i=new WeakMap,Ne.create=(u,n)=>new Ne({values:u,typeName:T.ZodNativeEnum,...v(n)});class Pe extends C{unwrap(){return this._def.type}_parse(n){const{ctx:s}=this._processInputParams(n);if(s.parsedType!==m.ZodParsedType.promise&&s.common.async===!1)return(0,d.addIssueToContext)(s,{code:y.ZodIssueCode.invalid_type,expected:m.ZodParsedType.promise,received:s.parsedType}),d.INVALID;const o=s.parsedType===m.ZodParsedType.promise?s.data:Promise.resolve(s.data);return(0,d.OK)(o.then(g=>this._def.type.parseAsync(g,{path:s.path,errorMap:s.common.contextualErrorMap})))}}e.ZodPromise=Pe,Pe.create=(u,n)=>new Pe({type:u,typeName:T.ZodPromise,...v(n)});class se extends C{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===T.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(n){const{status:s,ctx:o}=this._processInputParams(n),g=this._def.effect||null,h={addIssue:A=>{(0,d.addIssueToContext)(o,A),A.fatal?s.abort():s.dirty()},get path(){return o.path}};if(h.addIssue=h.addIssue.bind(h),g.type==="preprocess"){const A=g.transform(o.data,h);if(o.common.async)return Promise.resolve(A).then(async p=>{if(s.value==="aborted")return d.INVALID;const _=await this._def.schema._parseAsync({data:p,path:o.path,parent:o});return _.status==="aborted"?d.INVALID:_.status==="dirty"||s.value==="dirty"?(0,d.DIRTY)(_.value):_});{if(s.value==="aborted")return d.INVALID;const p=this._def.schema._parseSync({data:A,path:o.path,parent:o});return p.status==="aborted"?d.INVALID:p.status==="dirty"||s.value==="dirty"?(0,d.DIRTY)(p.value):p}}if(g.type==="refinement"){const A=p=>{const _=g.refinement(p,h);if(o.common.async)return Promise.resolve(_);if(_ instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return p};if(o.common.async===!1){const p=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return p.status==="aborted"?d.INVALID:(p.status==="dirty"&&s.dirty(),A(p.value),{status:s.value,value:p.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(p=>p.status==="aborted"?d.INVALID:(p.status==="dirty"&&s.dirty(),A(p.value).then(()=>({status:s.value,value:p.value}))))}if(g.type==="transform")if(o.common.async===!1){const A=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!(0,d.isValid)(A))return A;const p=g.transform(A.value,h);if(p instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:p}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(A=>(0,d.isValid)(A)?Promise.resolve(g.transform(A.value,h)).then(p=>({status:s.value,value:p})):A);m.util.assertNever(g)}}e.ZodEffects=se,e.ZodTransformer=se,se.create=(u,n,s)=>new se({schema:u,typeName:T.ZodEffects,effect:n,...v(s)}),se.createWithPreprocess=(u,n,s)=>new se({schema:n,effect:{type:"preprocess",transform:u},typeName:T.ZodEffects,...v(s)});class le extends C{_parse(n){return this._getType(n)===m.ZodParsedType.undefined?(0,d.OK)(void 0):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}e.ZodOptional=le,le.create=(u,n)=>new le({innerType:u,typeName:T.ZodOptional,...v(n)});class be extends C{_parse(n){return this._getType(n)===m.ZodParsedType.null?(0,d.OK)(null):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}e.ZodNullable=be,be.create=(u,n)=>new be({innerType:u,typeName:T.ZodNullable,...v(n)});class xe extends C{_parse(n){const{ctx:s}=this._processInputParams(n);let o=s.data;return s.parsedType===m.ZodParsedType.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}e.ZodDefault=xe,xe.create=(u,n)=>new xe({innerType:u,typeName:T.ZodDefault,defaultValue:typeof n.default=="function"?n.default:()=>n.default,...v(n)});class Qe extends C{_parse(n){const{ctx:s}=this._processInputParams(n),o={...s,common:{...s.common,issues:[]}},g=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return(0,d.isAsync)(g)?g.then(h=>({status:"valid",value:h.status==="valid"?h.value:this._def.catchValue({get error(){return new y.ZodError(o.common.issues)},input:o.data})})):{status:"valid",value:g.status==="valid"?g.value:this._def.catchValue({get error(){return new y.ZodError(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}e.ZodCatch=Qe,Qe.create=(u,n)=>new Qe({innerType:u,typeName:T.ZodCatch,catchValue:typeof n.catch=="function"?n.catch:()=>n.catch,...v(n)});class lt extends C{_parse(n){if(this._getType(n)!==m.ZodParsedType.nan){const o=this._getOrReturnCtx(n);return(0,d.addIssueToContext)(o,{code:y.ZodIssueCode.invalid_type,expected:m.ZodParsedType.nan,received:o.parsedType}),d.INVALID}return{status:"valid",value:n.data}}}e.ZodNaN=lt,lt.create=u=>new lt({typeName:T.ZodNaN,...v(u)}),e.BRAND=Symbol("zod_brand");class Zt extends C{_parse(n){const{ctx:s}=this._processInputParams(n),o=s.data;return this._def.type._parse({data:o,path:s.path,parent:s})}unwrap(){return this._def.type}}e.ZodBranded=Zt;class Ve extends C{_parse(n){const{status:s,ctx:o}=this._processInputParams(n);if(o.common.async)return(async()=>{const h=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return h.status==="aborted"?d.INVALID:h.status==="dirty"?(s.dirty(),(0,d.DIRTY)(h.value)):this._def.out._parseAsync({data:h.value,path:o.path,parent:o})})();{const g=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return g.status==="aborted"?d.INVALID:g.status==="dirty"?(s.dirty(),{status:"dirty",value:g.value}):this._def.out._parseSync({data:g.value,path:o.path,parent:o})}}static create(n,s){return new Ve({in:n,out:s,typeName:T.ZodPipeline})}}e.ZodPipeline=Ve;class Re extends C{_parse(n){const s=this._def.innerType._parse(n);return(0,d.isValid)(s)&&(s.value=Object.freeze(s.value)),s}unwrap(){return this._def.innerType}}e.ZodReadonly=Re,Re.create=(u,n)=>new Re({innerType:u,typeName:T.ZodReadonly,...v(n)});function pn(u,n={},s){return u?Be.create().superRefine((o,g)=>{var h,A;if(!u(o)){const p=typeof n=="function"?n(o):typeof n=="string"?{message:n}:n,_=(A=(h=p.fatal)!==null&&h!==void 0?h:s)!==null&&A!==void 0?A:!0,I=typeof p=="string"?{message:p}:p;g.addIssue({code:"custom",...I,fatal:_})}}):Be.create()}e.custom=pn,e.late={object:j.lazycreate};var T;(function(u){u.ZodString="ZodString",u.ZodNumber="ZodNumber",u.ZodNaN="ZodNaN",u.ZodBigInt="ZodBigInt",u.ZodBoolean="ZodBoolean",u.ZodDate="ZodDate",u.ZodSymbol="ZodSymbol",u.ZodUndefined="ZodUndefined",u.ZodNull="ZodNull",u.ZodAny="ZodAny",u.ZodUnknown="ZodUnknown",u.ZodNever="ZodNever",u.ZodVoid="ZodVoid",u.ZodArray="ZodArray",u.ZodObject="ZodObject",u.ZodUnion="ZodUnion",u.ZodDiscriminatedUnion="ZodDiscriminatedUnion",u.ZodIntersection="ZodIntersection",u.ZodTuple="ZodTuple",u.ZodRecord="ZodRecord",u.ZodMap="ZodMap",u.ZodSet="ZodSet",u.ZodFunction="ZodFunction",u.ZodLazy="ZodLazy",u.ZodLiteral="ZodLiteral",u.ZodEnum="ZodEnum",u.ZodEffects="ZodEffects",u.ZodNativeEnum="ZodNativeEnum",u.ZodOptional="ZodOptional",u.ZodNullable="ZodNullable",u.ZodDefault="ZodDefault",u.ZodCatch="ZodCatch",u.ZodPromise="ZodPromise",u.ZodBranded="ZodBranded",u.ZodPipeline="ZodPipeline",u.ZodReadonly="ZodReadonly"})(T=e.ZodFirstPartyTypeKind||(e.ZodFirstPartyTypeKind={}));const Aa=(u,n={message:`Input not instance of ${u.name}`})=>pn(s=>s instanceof u,n);e.instanceof=Aa;const An=ae.create;e.string=An;const bn=ye.create;e.number=bn;const ba=lt.create;e.nan=ba;const Ca=pe.create;e.bigint=Ca;const Cn=Se.create;e.boolean=Cn;const wa=Ce.create;e.date=wa;const va=st.create;e.symbol=va;const _a=ze.create;e.undefined=_a;const Ia=De.create;e.null=Ia;const Ba=Be.create;e.any=Ba;const Ta=we.create;e.unknown=Ta;const ka=ge.create;e.never=ka;const Pa=it.create;e.void=Pa;const Ea=re.create;e.array=Ea;const Ma=j.create;e.object=Ma;const Sa=j.strictCreate;e.strictObject=Sa;const za=Ue.create;e.union=za;const Da=ot.create;e.discriminatedUnion=Da;const Ua=Ze.create;e.intersection=Ua;const Za=de.create;e.tuple=Za;const La=Le.create;e.record=La;const ja=dt.create;e.map=ja;const Oa=ve.create;e.set=Oa;const Na=ke.create;e.function=Na;const xa=je.create;e.lazy=xa;const Qa=Oe.create;e.literal=Qa;const Va=Ae.create;e.enum=Va;const Ra=Ne.create;e.nativeEnum=Ra;const Ha=Pe.create;e.promise=Ha;const wn=se.create;e.effect=wn,e.transformer=wn;const Fa=le.create;e.optional=Fa;const Wa=be.create;e.nullable=Wa;const Ja=se.createWithPreprocess;e.preprocess=Ja;const Ka=Ve.create;e.pipeline=Ka;const qa=()=>An().optional();e.ostring=qa;const Ya=()=>bn().optional();e.onumber=Ya;const Ga=()=>Cn().optional();e.oboolean=Ga,e.coerce={string:u=>ae.create({...u,coerce:!0}),number:u=>ye.create({...u,coerce:!0}),boolean:u=>Se.create({...u,coerce:!0}),bigint:u=>pe.create({...u,coerce:!0}),date:u=>Ce.create({...u,coerce:!0})},e.NEVER=d.INVALID})(Jn);(function(e){var t=z&&z.__createBinding||(Object.create?function(r,i,l,f){f===void 0&&(f=l),Object.defineProperty(r,f,{enumerable:!0,get:function(){return i[l]}})}:function(r,i,l,f){f===void 0&&(f=l),r[f]=i[l]}),a=z&&z.__exportStar||function(r,i){for(var l in r)l!=="default"&&!Object.prototype.hasOwnProperty.call(i,l)&&t(i,r,l)};Object.defineProperty(e,"__esModule",{value:!0}),a(ce,e),a(Xt,e),a(Wn,e),a(at,e),a(Jn,e),a(ue,e)})(Ht);(function(e){var t=z&&z.__createBinding||(Object.create?function(f,d,m,y){y===void 0&&(y=m),Object.defineProperty(f,y,{enumerable:!0,get:function(){return d[m]}})}:function(f,d,m,y){y===void 0&&(y=m),f[y]=d[m]}),a=z&&z.__setModuleDefault||(Object.create?function(f,d){Object.defineProperty(f,"default",{enumerable:!0,value:d})}:function(f,d){f.default=d}),r=z&&z.__importStar||function(f){if(f&&f.__esModule)return f;var d={};if(f!=null)for(var m in f)m!=="default"&&Object.prototype.hasOwnProperty.call(f,m)&&t(d,f,m);return a(d,f),d},i=z&&z.__exportStar||function(f,d){for(var m in f)m!=="default"&&!Object.prototype.hasOwnProperty.call(d,m)&&t(d,f,m)};Object.defineProperty(e,"__esModule",{value:!0}),e.z=void 0;const l=r(Ht);e.z=l,i(Ht,e),e.default=l})($t);const xr="@ton/ton",Qr="13.11.1",Vr="https://github.com/ton-org/ton.git",Rr="Whales Corp. <developers@whalescorp.com>",Hr="MIT",Fr="dist/index.js",Wr=["dist"],Jr={docs:"rm -fr docs && typedoc src/index.ts",build:"rm -fr dist && tsc --declaration",test:"jest --verbose --runInBand",release:"yarn build && yarn release-it --npm.yarn1"},Kr={"@release-it/keep-a-changelog":"^5.0.0","@ton/core":"^0.56.0","@ton/crypto":"3.2.0","@ton/emulator":"^2.1.1","@types/jest":"^27.0.1","@types/node":"^16.7.10",buffer:"^6.0.3",expect:"^27.1.0",jest:"^27.1.0","jest-mock":"^27.1.0",karma:"^6.3.4","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1","karma-typescript":"^5.5.2","karma-webpack":"^5.0.0",prando:"^6.0.1","release-it":"^17.1.1","ts-jest":"^27.0.5","ts-loader":"^9.2.5","ts-node":"^10.7.0",typedoc:"^0.23.24",typescript:"^4.4.2",webpack:"^5.51.2"},qr={axios:"^1.6.7",dataloader:"^2.0.0","symbol.inspect":"1.0.1",teslabot:"^1.3.0",zod:"^3.21.4"},Yr={"@ton/core":">=0.56.0","@ton/crypto":">=3.2.0"},Gr={access:"public",registry:"https://registry.npmjs.org/"},$r="yarn@3.4.1",Xr={name:xr,version:Qr,repository:Vr,author:Rr,license:Hr,main:Fr,files:Wr,scripts:Jr,devDependencies:Kr,dependencies:qr,peerDependencies:Yr,publishConfig:Gr,"release-it":{github:{release:!0},plugins:{"@release-it/keep-a-changelog":{filename:"CHANGELOG.md"}}},packageManager:$r};var qn=z&&z.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nt,"__esModule",{value:!0});nt.HttpApi=void 0;const es=mt,In=qn(Ur),ts=qn(Vn),b=$t,ns=Xr.version,Me=b.z.object({"@type":b.z.literal("ton.blockIdExt"),workchain:b.z.number(),shard:b.z.string(),seqno:b.z.number(),root_hash:b.z.string(),file_hash:b.z.string()}),as=b.z.object({balance:b.z.union([b.z.number(),b.z.string()]),state:b.z.union([b.z.literal("active"),b.z.literal("uninitialized"),b.z.literal("frozen")]),data:b.z.string(),code:b.z.string(),last_transaction_id:b.z.object({"@type":b.z.literal("internal.transactionId"),lt:b.z.string(),hash:b.z.string()}),block_id:Me,sync_utime:b.z.number()}),rs=b.z.object({"@type":b.z.literal("ok")}),ss=b.z.object({"@type":b.z.literal("query.fees"),source_fees:b.z.object({"@type":b.z.literal("fees"),in_fwd_fee:b.z.number(),storage_fee:b.z.number(),gas_fee:b.z.number(),fwd_fee:b.z.number()})}),is=b.z.object({gas_used:b.z.number(),exit_code:b.z.number(),stack:b.z.array(b.z.unknown())}),os=b.z.union([b.z.object({"@type":b.z.literal("msg.dataRaw"),body:b.z.string()}),b.z.object({"@type":b.z.literal("msg.dataText"),text:b.z.string()}),b.z.object({"@type":b.z.literal("msg.dataDecryptedText"),text:b.z.string()}),b.z.object({"@type":b.z.literal("msg.dataEncryptedText"),text:b.z.string()})]),Bn=b.z.object({source:b.z.string(),destination:b.z.string(),value:b.z.string(),fwd_fee:b.z.string(),ihr_fee:b.z.string(),created_lt:b.z.string(),body_hash:b.z.string(),msg_data:os,message:b.z.string()}),Ft=b.z.object({data:b.z.string(),utime:b.z.number(),transaction_id:b.z.object({lt:b.z.string(),hash:b.z.string()}),fee:b.z.string(),storage_fee:b.z.string(),other_fee:b.z.string(),in_msg:b.z.union([b.z.undefined(),Bn]),out_msgs:b.z.array(Bn)}),Tn=b.z.array(Ft),ds=b.z.object({state_root_hash:b.z.string(),last:Me,init:Me}),ls=b.z.object({shards:b.z.array(Me)}),cs=b.z.object({"@type":b.z.literal("blocks.shortTxId"),mode:b.z.number(),account:b.z.string(),lt:b.z.string(),hash:b.z.string()}),kn=b.z.object({id:Me,req_count:b.z.number(),incomplete:b.z.boolean(),transactions:b.z.array(cs)});class Pn{constructor(t,a,r,i){this.namespace=t,this.cache=a,this.codec=r,this.keyEncoder=i}async get(t){let a=await this.cache.get(this.namespace,this.keyEncoder(t));if(a){let r=this.codec.safeParse(JSON.parse(a));if(r.success)return r.data}return null}async set(t,a){a!==null?await this.cache.set(this.namespace,this.keyEncoder(t),JSON.stringify(a)):await this.cache.set(this.namespace,this.keyEncoder(t),null)}}class us{constructor(t,a){this.endpoint=t,this.cache=new es.InMemoryCache,this.parameters={timeout:(a==null?void 0:a.timeout)||3e4,apiKey:a==null?void 0:a.apiKey,adapter:a==null?void 0:a.adapter},this.shardCache=new Pn("ton-shard",this.cache,b.z.array(Me),r=>r+""),this.shardLoader=new In.default(async r=>await Promise.all(r.map(async i=>{const l=await this.shardCache.get(i);if(l)return l;let f=(await this.doCall("shards",{seqno:i},ls)).shards;return await this.shardCache.set(i,f),f}))),this.shardTransactionsCache=new Pn("ton-shard-tx",this.cache,kn,r=>r.workchain+":"+r.shard+":"+r.seqno),this.shardTransactionsLoader=new In.default(async r=>await Promise.all(r.map(async i=>{const l=await this.shardTransactionsCache.get(i);if(l)return l;let f=await this.doCall("getBlockTransactions",{workchain:i.workchain,seqno:i.seqno,shard:i.shard},kn);return await this.shardTransactionsCache.set(i,f),f})),{cacheKeyFn:r=>r.workchain+":"+r.shard+":"+r.seqno})}getAddressInformation(t){return this.doCall("getAddressInformation",{address:t.toString()},as)}async getTransactions(t,a){const r=a.inclusive;delete a.inclusive;let i;a.hash&&(i=D.from(a.hash,"base64").toString("hex"));let l=a.limit;a.hash&&a.lt&&r!==!0&&l++;let f=await this.doCall("getTransactions",{address:t.toString(),...a,limit:l,hash:i},Tn);return f.length>l&&(f=f.slice(0,l)),a.hash&&a.lt&&r!==!0&&f.shift(),f}async getMasterchainInfo(){return await this.doCall("getMasterchainInfo",{},ds)}async getShards(t){return await this.shardLoader.load(t)}async getBlockTransactions(t,a,r){return await this.shardTransactionsLoader.load({workchain:t,seqno:a,shard:r})}async getTransaction(t,a,r){let i=D.from(r,"base64").toString("hex"),f=(await this.doCall("getTransactions",{address:t.toString(),lt:a,hash:i,limit:1},Tn)).find(d=>d.transaction_id.lt===a&&d.transaction_id.hash===r);return f||null}async callGetMethod(t,a,r){return await this.doCall("runGetMethod",{address:t.toString(),method:a,stack:fs(r)},is)}async sendBoc(t){await this.doCall("sendBoc",{boc:t.toString("base64")},rs)}async estimateFee(t,a){return await this.doCall("estimateFee",{address:t.toString(),body:a.body.toBoc().toString("base64"),init_data:a.initData?a.initData.toBoc().toString("base64"):"",init_code:a.initCode?a.initCode.toBoc().toString("base64"):"",ignore_chksig:a.ignoreSignature},ss)}async tryLocateResultTx(t,a,r){return await this.doCall("tryLocateResultTx",{source:t.toString(),destination:a.toString(),created_lt:r},Ft)}async tryLocateSourceTx(t,a,r){return await this.doCall("tryLocateSourceTx",{source:t.toString(),destination:a.toString(),created_lt:r},Ft)}async doCall(t,a,r){let i={"Content-Type":"application/json","X-Ton-Client-Version":ns};this.parameters.apiKey&&(i["X-API-Key"]=this.parameters.apiKey);let l=await ts.default.post(this.endpoint,JSON.stringify({id:"1",jsonrpc:"2.0",method:t,params:a}),{headers:i,timeout:this.parameters.timeout,adapter:this.parameters.adapter});if(l.status!==200||!l.data.ok)throw Error("Received error: "+JSON.stringify(l.data));let f=r.safeParse(l.data.result);if(f.success)return f.data;throw Error("Malformed response: "+f.error.format()._errors.join(", "))}}nt.HttpApi=us;function fs(e){let t=[];for(let a of e)if(a.type==="int")t.push(["num",a.value.toString()]);else if(a.type==="cell")t.push(["tvm.Cell",a.cell.toBoc().toString("base64")]);else if(a.type==="slice")t.push(["tvm.Slice",a.cell.toBoc().toString("base64")]);else if(a.type==="builder")t.push(["tvm.Builder",a.cell.toBoc().toString("base64")]);else throw Error("Unsupported stack item type: "+a.type);return t}var pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.TonClient=void 0;const hs=nt,Z=k;class gs{constructor(t){this.parameters={endpoint:t.endpoint},this.api=new hs.HttpApi(this.parameters.endpoint,{timeout:t.timeout,apiKey:t.apiKey,adapter:t.httpAdapter})}async getBalance(t){return(await this.getContractState(t)).balance}async runMethod(t,a,r=[]){let i=await this.api.callGetMethod(t,a,r);if(i.exit_code!==0)throw Error("Unable to execute get method. Got exit_code: "+i.exit_code);return{gas_used:i.gas_used,stack:En(i.stack)}}async callGetMethod(t,a,r=[]){return this.runMethod(t,a,r)}async runMethodWithError(t,a,r=[]){let i=await this.api.callGetMethod(t,a,r);return{gas_used:i.gas_used,stack:En(i.stack),exit_code:i.exit_code}}async callGetMethodWithError(t,a,r=[]){return this.runMethodWithError(t,a,r)}async getTransactions(t,a){let r=await this.api.getTransactions(t,a),i=[];for(let l of r)i.push((0,Z.loadTransaction)(Z.Cell.fromBoc(D.from(l.data,"base64"))[0].beginParse()));return i}async getTransaction(t,a,r){let i=await this.api.getTransaction(t,a,r);return i?(0,Z.loadTransaction)(Z.Cell.fromBoc(D.from(i.data,"base64"))[0].beginParse()):null}async tryLocateResultTx(t,a,r){let i=await this.api.tryLocateResultTx(t,a,r);return(0,Z.loadTransaction)(Z.Cell.fromBase64(i.data).beginParse())}async tryLocateSourceTx(t,a,r){let i=await this.api.tryLocateSourceTx(t,a,r);return(0,Z.loadTransaction)(Z.Cell.fromBase64(i.data).beginParse())}async getMasterchainInfo(){let t=await this.api.getMasterchainInfo();return{workchain:t.init.workchain,shard:t.last.shard,initSeqno:t.init.seqno,latestSeqno:t.last.seqno}}async getWorkchainShards(t){return(await this.api.getShards(t)).map(r=>({workchain:r.workchain,shard:r.shard,seqno:r.seqno}))}async getShardTransactions(t,a,r){let i=await this.api.getBlockTransactions(t,a,r);if(i.incomplete)throw Error("Unsupported");return i.transactions.map(l=>({account:Z.Address.parseRaw(l.account),lt:l.lt,hash:l.hash}))}async sendMessage(t){const a=(0,Z.beginCell)().store((0,Z.storeMessage)(t)).endCell().toBoc();await this.api.sendBoc(a)}async sendFile(t){await this.api.sendBoc(t)}async estimateExternalMessageFee(t,a){return await this.api.estimateFee(t,{body:a.body,initCode:a.initCode,initData:a.initData,ignoreSignature:a.ignoreSignature})}async sendExternalMessage(t,a){if(await this.isContractDeployed(t.address)||!t.init){const r=(0,Z.external)({to:t.address,body:a});await this.sendMessage(r)}else{const r=(0,Z.external)({to:t.address,init:t.init,body:a});await this.sendMessage(r)}}async isContractDeployed(t){return(await this.getContractState(t)).state==="active"}async getContractState(t){let a=await this.api.getAddressInformation(t),r=BigInt(a.balance),i=a.state;return{balance:r,state:i,code:a.code!==""?D.from(a.code,"base64"):null,data:a.data!==""?D.from(a.data,"base64"):null,lastTransaction:a.last_transaction_id.lt!=="0"?{lt:a.last_transaction_id.lt,hash:a.last_transaction_id.hash}:null,blockId:{workchain:a.block_id.workchain,shard:a.block_id.shard,seqno:a.block_id.seqno},timestampt:a.sync_utime}}open(t){return(0,Z.openContract)(t,a=>Wt(this,a.address,a.init))}provider(t,a){return Wt(this,t,a??null)}}pt.TonClient=gs;function Yn(e){switch(e["@type"]){case"tvm.stackEntryNumber":return{type:"int",value:BigInt(e.number.number)};case"tvm.stackEntryCell":return{type:"cell",cell:Z.Cell.fromBase64(e.cell)};case"tvm.stackEntryTuple":return{type:"tuple",items:e.tuple.elements.map(Yn)};default:throw Error("Unsupported item type: "+e["@type"])}}function ms(e){if(e[0]==="num"){let t=e[1];return t.startsWith("-")?{type:"int",value:-BigInt(t.slice(1))}:{type:"int",value:BigInt(t)}}else{if(e[0]==="null")return{type:"null"};if(e[0]==="cell")return{type:"cell",cell:Z.Cell.fromBoc(D.from(e[1].bytes,"base64"))[0]};if(e[0]==="slice")return{type:"slice",cell:Z.Cell.fromBoc(D.from(e[1].bytes,"base64"))[0]};if(e[0]==="builder")return{type:"builder",cell:Z.Cell.fromBoc(D.from(e[1].bytes,"base64"))[0]};if(e[0]==="tuple"||e[0]==="list")return e[1].elements.length===0?{type:"null"}:{type:e[0],items:e[1].elements.map(Yn)};throw Error("Unsupported stack item type: "+e[0])}}function En(e){let t=[];for(let a of e)t.push(ms(a));return new Z.TupleReader(t)}function Wt(e,t,a){return{async getState(){let r=await e.getContractState(t),i=r.balance,l=r.lastTransaction?{lt:BigInt(r.lastTransaction.lt),hash:D.from(r.lastTransaction.hash,"base64")}:null,f;if(r.state==="active")f={type:"active",code:r.code?r.code:null,data:r.data?r.data:null};else if(r.state==="uninitialized")f={type:"uninit"};else if(r.state==="frozen")f={type:"frozen",stateHash:D.alloc(0)};else throw Error("Unsupported state");return{balance:i,last:l,state:f}},async get(r,i){return{stack:(await e.callGetMethod(t,r,i)).stack}},async external(r){let i=null;a&&!await e.isContractDeployed(t)&&(i=a);const l=(0,Z.external)({to:t,init:i,body:r});let f=(0,Z.beginCell)().store((0,Z.storeMessage)(l)).endCell().toBoc();await e.sendFile(f)},async internal(r,i){let l=null;a&&!await e.isContractDeployed(t)&&(l=a);let f=!0;i.bounce!==null&&i.bounce!==void 0&&(f=i.bounce);let d;typeof i.value=="string"?d=(0,Z.toNano)(i.value):d=i.value;let m=null;typeof i.body=="string"?m=(0,Z.comment)(i.body):i.body&&(m=i.body),await r.send({to:t,value:d,bounce:f,sendMode:i.sendMode,init:l,body:m})},open(r){return(0,Z.openContract)(r,i=>Wt(e,i.address,i.init??null))},getTransactions(r,i,l,f){return e.getTransactions(r,{limit:f??100,lt:i.toString(),hash:l.toString("base64"),inclusive:!0})}}}var At={},bt={};Object.defineProperty(bt,"__esModule",{value:!0});bt.toUrlSafe=void 0;function ys(e){for(;e.indexOf("/")>=0;)e=e.replace("/","_");for(;e.indexOf("+")>=0;)e=e.replace("+","-");for(;e.indexOf("=")>=0;)e=e.replace("=","");return e}bt.toUrlSafe=ys;var xt=z&&z.__classPrivateFieldSet||function(e,t,a,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,a):i?i.value=a:t.set(e,a),a},S=z&&z.__classPrivateFieldGet||function(e,t,a,r){if(a==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?r:a==="a"?r.call(e):r?r.value:t.get(e)},ps=z&&z.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},J,K,q;Object.defineProperty(At,"__esModule",{value:!0});At.TonClient4=void 0;const ie=ps(Vn),F=k,Qt=bt,c=$t;class As{constructor(t){J.set(this,void 0),K.set(this,void 0),q.set(this,void 0),xt(this,J,t.endpoint,"f"),xt(this,K,t.timeout||5e3,"f"),xt(this,q,t.httpAdapter,"f")}async getLastBlock(){let t=await ie.default.get(S(this,J,"f")+"/block/latest",{adapter:S(this,q,"f"),timeout:S(this,K,"f")}),a=bs.safeParse(t.data);if(!a.success)throw Error("Mailformed response: "+a.error.format()._errors.join(", "));return a.data}async getBlock(t){let a=await ie.default.get(S(this,J,"f")+"/block/"+t,{adapter:S(this,q,"f"),timeout:S(this,K,"f")}),r=Mn.safeParse(a.data);if(!r.success)throw Error("Mailformed response");if(!r.data.exist)throw Error("Block is out of scope");return r.data.block}async getBlockByUtime(t){let a=await ie.default.get(S(this,J,"f")+"/block/utime/"+t,{adapter:S(this,q,"f"),timeout:S(this,K,"f")}),r=Mn.safeParse(a.data);if(!r.success)throw Error("Mailformed response");if(!r.data.exist)throw Error("Block is out of scope");return r.data.block}async getAccount(t,a){let r=await ie.default.get(S(this,J,"f")+"/block/"+t+"/"+a.toString({urlSafe:!0}),{adapter:S(this,q,"f"),timeout:S(this,K,"f")}),i=Cs.safeParse(r.data);if(!i.success)throw Error("Mailformed response");return i.data}async getAccountLite(t,a){let r=await ie.default.get(S(this,J,"f")+"/block/"+t+"/"+a.toString({urlSafe:!0})+"/lite",{adapter:S(this,q,"f"),timeout:S(this,K,"f")}),i=ws.safeParse(r.data);if(!i.success)throw Error("Mailformed response");return i.data}async isContractDeployed(t,a){return(await this.getAccountLite(t,a)).account.state.type==="active"}async isAccountChanged(t,a,r){let i=await ie.default.get(S(this,J,"f")+"/block/"+t+"/"+a.toString({urlSafe:!0})+"/changed/"+r.toString(10),{adapter:S(this,q,"f"),timeout:S(this,K,"f")}),l=vs.safeParse(i.data);if(!l.success)throw Error("Mailformed response");return l.data}async getAccountTransactions(t,a,r){let i=await ie.default.get(S(this,J,"f")+"/account/"+t.toString({urlSafe:!0})+"/tx/"+a.toString(10)+"/"+(0,Qt.toUrlSafe)(r.toString("base64")),{adapter:S(this,q,"f"),timeout:S(this,K,"f")}),l=Ts.safeParse(i.data);if(!l.success)throw Error("Mailformed response");let f=l.data,d=[],m=F.Cell.fromBoc(D.from(f.boc,"base64"));for(let y=0;y<f.blocks.length;y++)d.push({block:f.blocks[y],tx:(0,F.loadTransaction)(m[y].beginParse())});return d}async getAccountTransactionsParsed(t,a,r,i=20){let l=await ie.default.get(S(this,J,"f")+"/account/"+t.toString({urlSafe:!0})+"/tx/parsed/"+a.toString(10)+"/"+(0,Qt.toUrlSafe)(r.toString("base64")),{adapter:S(this,q,"f"),timeout:S(this,K,"f"),params:{count:i}}),f=Zs.safeParse(l.data);if(!f.success)throw Error("Mailformed response");return f.data}async getConfig(t,a){let r="";a&&a.length>0&&(r="/"+[...a].sort().join(","));let i=await ie.default.get(S(this,J,"f")+"/block/"+t+"/config"+r,{adapter:S(this,q,"f"),timeout:S(this,K,"f")}),l=Is.safeParse(i.data);if(!l.success)throw Error("Mailformed response");return l.data}async runMethod(t,a,r,i){let l=i&&i.length>0?"/"+(0,Qt.toUrlSafe)((0,F.serializeTuple)(i).toBoc({idx:!1,crc32:!1}).toString("base64")):"",f=S(this,J,"f")+"/block/"+t+"/"+a.toString({urlSafe:!0})+"/run/"+encodeURIComponent(r)+l,d=await ie.default.get(f,{adapter:S(this,q,"f"),timeout:S(this,K,"f")}),m=_s.safeParse(d.data);if(!m.success)throw Error("Mailformed response");let y=m.data.resultRaw?(0,F.parseTuple)(F.Cell.fromBoc(D.from(m.data.resultRaw,"base64"))[0]):[];return{exitCode:m.data.exitCode,result:y,resultRaw:m.data.resultRaw,block:m.data.block,shardBlock:m.data.shardBlock,reader:new F.TupleReader(y)}}async sendMessage(t){let a=await ie.default.post(S(this,J,"f")+"/send",{boc:t.toString("base64")},{adapter:S(this,q,"f"),timeout:S(this,K,"f")});if(!Bs.safeParse(a.data).success)throw Error("Mailformed response");return{status:a.data.status}}open(t){return(0,F.openContract)(t,a=>$e(this,null,a.address,a.init))}openAt(t,a){return(0,F.openContract)(a,r=>$e(this,t,r.address,r.init))}provider(t,a){return $e(this,null,t,a??null)}providerAt(t,a,r){return $e(this,t,a,r??null)}}At.TonClient4=As;J=new WeakMap,K=new WeakMap,q=new WeakMap;function $e(e,t,a,r){return{async getState(){let i=t;i===null&&(i=(await e.getLastBlock()).last.seqno);let l=await e.getAccount(i,a),f=l.account.last?{lt:BigInt(l.account.last.lt),hash:D.from(l.account.last.hash,"base64")}:null,d;if(l.account.state.type==="active")d={type:"active",code:l.account.state.code?D.from(l.account.state.code,"base64"):null,data:l.account.state.data?D.from(l.account.state.data,"base64"):null};else if(l.account.state.type==="uninit")d={type:"uninit"};else if(l.account.state.type==="frozen")d={type:"frozen",stateHash:D.from(l.account.state.stateHash,"base64")};else throw Error("Unsupported state");return{balance:BigInt(l.account.balance.coins),last:f,state:d}},async get(i,l){let f=t;f===null&&(f=(await e.getLastBlock()).last.seqno);let d=await e.runMethod(f,a,i,l);if(d.exitCode!==0&&d.exitCode!==1)throw Error("Exit code: "+d.exitCode);return{stack:new F.TupleReader(d.result)}},async external(i){let l=await e.getLastBlock(),f=null;r&&(await e.getAccountLite(l.last.seqno,a)).account.state.type!=="active"&&(f=r);const d=(0,F.external)({to:a,init:f,body:i});let m=(0,F.beginCell)().store((0,F.storeMessage)(d)).endCell().toBoc();await e.sendMessage(m)},async internal(i,l){let f=await e.getLastBlock(),d=null;r&&(await e.getAccountLite(f.last.seqno,a)).account.state.type!=="active"&&(d=r);let m=!0;l.bounce!==null&&l.bounce!==void 0&&(m=l.bounce);let y;typeof l.value=="string"?y=(0,F.toNano)(l.value):y=l.value;let w=null;typeof l.body=="string"?w=(0,F.comment)(l.body):l.body&&(w=l.body),await i.send({to:a,value:y,bounce:m,sendMode:l.sendMode,init:d,body:w})},open(i){return(0,F.openContract)(i,l=>$e(e,t,l.address,l.init??null))},async getTransactions(i,l,f,d){const m=typeof d=="number";if(m&&d<=0)return[];let y=[];do{const w=await e.getAccountTransactions(i,l,f),E=w[0].tx,[v,C]=[E.lt,E.hash()];if(y.length>0&&v===l&&C.equals(f)&&w.shift(),w.length===0)break;const L=w[w.length-1].tx,[N,U]=[L.lt,L.hash()];if(N===l&&U.equals(f))break;y.push(...w.map(x=>x.tx)),l=N,f=U}while(m&&y.length<d);return m&&(y=y.slice(0,d)),y}}}const bs=c.z.object({last:c.z.object({seqno:c.z.number(),shard:c.z.string(),workchain:c.z.number(),fileHash:c.z.string(),rootHash:c.z.string()}),init:c.z.object({fileHash:c.z.string(),rootHash:c.z.string()}),stateRootHash:c.z.string(),now:c.z.number()}),Mn=c.z.union([c.z.object({exist:c.z.literal(!1)}),c.z.object({exist:c.z.literal(!0),block:c.z.object({shards:c.z.array(c.z.object({workchain:c.z.number(),seqno:c.z.number(),shard:c.z.string(),rootHash:c.z.string(),fileHash:c.z.string(),transactions:c.z.array(c.z.object({account:c.z.string(),hash:c.z.string(),lt:c.z.string()}))}))})})]),Gn=c.z.object({lastPaid:c.z.number(),duePayment:c.z.union([c.z.null(),c.z.string()]),used:c.z.object({bits:c.z.number(),cells:c.z.number(),publicCells:c.z.number()})}),Cs=c.z.object({account:c.z.object({state:c.z.union([c.z.object({type:c.z.literal("uninit")}),c.z.object({type:c.z.literal("active"),code:c.z.union([c.z.string(),c.z.null()]),data:c.z.union([c.z.string(),c.z.null()])}),c.z.object({type:c.z.literal("frozen"),stateHash:c.z.string()})]),balance:c.z.object({coins:c.z.string()}),last:c.z.union([c.z.null(),c.z.object({lt:c.z.string(),hash:c.z.string()})]),storageStat:c.z.union([c.z.null(),Gn])}),block:c.z.object({workchain:c.z.number(),seqno:c.z.number(),shard:c.z.string(),rootHash:c.z.string(),fileHash:c.z.string()})}),ws=c.z.object({account:c.z.object({state:c.z.union([c.z.object({type:c.z.literal("uninit")}),c.z.object({type:c.z.literal("active"),codeHash:c.z.string(),dataHash:c.z.string()}),c.z.object({type:c.z.literal("frozen"),stateHash:c.z.string()})]),balance:c.z.object({coins:c.z.string()}),last:c.z.union([c.z.null(),c.z.object({lt:c.z.string(),hash:c.z.string()})]),storageStat:c.z.union([c.z.null(),Gn])})}),vs=c.z.object({changed:c.z.boolean(),block:c.z.object({workchain:c.z.number(),seqno:c.z.number(),shard:c.z.string(),rootHash:c.z.string(),fileHash:c.z.string()})}),_s=c.z.object({exitCode:c.z.number(),resultRaw:c.z.union([c.z.string(),c.z.null()]),block:c.z.object({workchain:c.z.number(),seqno:c.z.number(),shard:c.z.string(),rootHash:c.z.string(),fileHash:c.z.string()}),shardBlock:c.z.object({workchain:c.z.number(),seqno:c.z.number(),shard:c.z.string(),rootHash:c.z.string(),fileHash:c.z.string()})}),Is=c.z.object({config:c.z.object({cell:c.z.string(),address:c.z.string(),globalBalance:c.z.object({coins:c.z.string()})})}),Bs=c.z.object({status:c.z.number()}),$n=c.z.array(c.z.object({workchain:c.z.number(),seqno:c.z.number(),shard:c.z.string(),rootHash:c.z.string(),fileHash:c.z.string()})),Ts=c.z.object({blocks:$n,boc:c.z.string()}),Sn=c.z.object({bits:c.z.number(),data:c.z.string()}),ks=c.z.union([c.z.object({type:c.z.literal("internal"),value:c.z.string(),dest:c.z.string(),src:c.z.string(),bounced:c.z.boolean(),bounce:c.z.boolean(),ihrDisabled:c.z.boolean(),createdAt:c.z.number(),createdLt:c.z.string(),fwdFee:c.z.string(),ihrFee:c.z.string()}),c.z.object({type:c.z.literal("external-in"),dest:c.z.string(),src:c.z.union([Sn,c.z.null()]),importFee:c.z.string()}),c.z.object({type:c.z.literal("external-out"),dest:c.z.union([Sn,c.z.null()])})]),Ps=c.z.object({splitDepth:c.z.union([c.z.number(),c.z.null()]),code:c.z.union([c.z.string(),c.z.null()]),data:c.z.union([c.z.string(),c.z.null()]),special:c.z.union([c.z.object({tick:c.z.boolean(),tock:c.z.boolean()}),c.z.null()])}),zn=c.z.object({body:c.z.string(),info:ks,init:c.z.union([Ps,c.z.null()])}),Dn=c.z.union([c.z.literal("uninitialized"),c.z.literal("frozen"),c.z.literal("active"),c.z.literal("non-existing")]),Es=c.z.union([c.z.object({type:c.z.literal("comment"),comment:c.z.string()}),c.z.object({type:c.z.literal("payload"),cell:c.z.string()})]),Ms=c.z.union([c.z.object({kind:c.z.literal("ton"),amount:c.z.string()}),c.z.object({kind:c.z.literal("token"),amount:c.z.string()})]),Ss=c.z.union([c.z.literal("jetton::excesses"),c.z.literal("jetton::transfer"),c.z.literal("jetton::transfer_notification"),c.z.literal("deposit"),c.z.literal("deposit::ok"),c.z.literal("withdraw"),c.z.literal("withdraw::all"),c.z.literal("withdraw::delayed"),c.z.literal("withdraw::ok"),c.z.literal("airdrop")]),zs=c.z.object({type:Ss,options:c.z.optional(c.z.record(c.z.string()))}),Ds=c.z.object({address:c.z.string(),comment:c.z.optional(c.z.string()),items:c.z.array(Ms),op:c.z.optional(zs)}),Us=c.z.object({address:c.z.string(),lt:c.z.string(),hash:c.z.string(),prevTransaction:c.z.object({lt:c.z.string(),hash:c.z.string()}),time:c.z.number(),outMessagesCount:c.z.number(),oldStatus:Dn,newStatus:Dn,fees:c.z.string(),update:c.z.object({oldHash:c.z.string(),newHash:c.z.string()}),inMessage:c.z.union([zn,c.z.null()]),outMessages:c.z.array(zn),parsed:c.z.object({seqno:c.z.union([c.z.number(),c.z.null()]),body:c.z.union([Es,c.z.null()]),status:c.z.union([c.z.literal("success"),c.z.literal("failed"),c.z.literal("pending")]),dest:c.z.union([c.z.string(),c.z.null()]),kind:c.z.union([c.z.literal("out"),c.z.literal("in")]),amount:c.z.string(),resolvedAddress:c.z.string(),bounced:c.z.boolean(),mentioned:c.z.array(c.z.string())}),operation:Ds}),Zs=c.z.object({blocks:$n,transactions:c.z.array(Us)});var Ct={},Q={};Object.defineProperty(Q,"__esModule",{value:!0});Q.createWalletTransferV4=Q.createWalletTransferV3=Q.createWalletTransferV2=Q.createWalletTransferV1=void 0;const R=k,wt=Gt();function Ls(e){let t=(0,R.beginCell)().storeUint(e.seqno,32);e.message&&(t.storeUint(e.sendMode,8),t.storeRef((0,R.beginCell)().store((0,R.storeMessageRelaxed)(e.message))));let a=(0,wt.sign)(t.endCell().hash(),e.secretKey);return(0,R.beginCell)().storeBuffer(a).storeBuilder(t).endCell()}Q.createWalletTransferV1=Ls;function js(e){if(e.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let t=(0,R.beginCell)().storeUint(e.seqno,32);if(e.seqno===0)for(let i=0;i<32;i++)t.storeBit(1);else t.storeUint(e.timeout||Math.floor(Date.now()/1e3)+60,32);for(let i of e.messages)t.storeUint(e.sendMode,8),t.storeRef((0,R.beginCell)().store((0,R.storeMessageRelaxed)(i)));let a=(0,wt.sign)(t.endCell().hash(),e.secretKey);return(0,R.beginCell)().storeBuffer(a).storeBuilder(t).endCell()}Q.createWalletTransferV2=js;function Os(e){if(e.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let t=(0,R.beginCell)().storeUint(e.walletId,32);if(e.seqno===0)for(let i=0;i<32;i++)t.storeBit(1);else t.storeUint(e.timeout||Math.floor(Date.now()/1e3)+60,32);t.storeUint(e.seqno,32);for(let i of e.messages)t.storeUint(e.sendMode,8),t.storeRef((0,R.beginCell)().store((0,R.storeMessageRelaxed)(i)));let a=(0,wt.sign)(t.endCell().hash(),e.secretKey);return(0,R.beginCell)().storeBuffer(a).storeBuilder(t).endCell()}Q.createWalletTransferV3=Os;function Ns(e){if(e.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let t=(0,R.beginCell)().storeUint(e.walletId,32);if(e.seqno===0)for(let i=0;i<32;i++)t.storeBit(1);else t.storeUint(e.timeout||Math.floor(Date.now()/1e3)+60,32);t.storeUint(e.seqno,32),t.storeUint(0,8);for(let i of e.messages)t.storeUint(e.sendMode,8),t.storeRef((0,R.beginCell)().store((0,R.storeMessageRelaxed)(i)));let a=(0,wt.sign)(t.endCell().hash(),e.secretKey);return(0,R.beginCell)().storeBuffer(a).storeBuilder(t).endCell()}Q.createWalletTransferV4=Ns;Object.defineProperty(Ct,"__esModule",{value:!0});Ct.WalletContractV1R1=void 0;const Ee=k,xs=Q;class en{static create(t){return new en(t.workchain,t.publicKey)}constructor(t,a){this.workchain=t,this.publicKey=a;let r=Ee.Cell.fromBoc(D.from("te6cckEBAQEARAAAhP8AIN2k8mCBAgDXGCDXCx/tRNDTH9P/0VESuvKhIvkBVBBE+RDyovgAAdMfMSDXSpbTB9QC+wDe0aTIyx/L/8ntVEH98Ik=","base64"))[0],i=(0,Ee.beginCell)().storeUint(0,32).storeBuffer(a).endCell();this.init={code:r,data:i},this.address=(0,Ee.contractAddress)(t,{code:r,data:i})}async getBalance(t){return(await t.getState()).balance}async getSeqno(t){let a=await t.getState();return a.state.type==="active"?Ee.Cell.fromBoc(a.state.data)[0].beginParse().loadUint(32):0}async send(t,a){await t.external(a)}async sendTransfer(t,a){let r=this.createTransfer(a);await this.send(t,r)}createTransfer(t){let a=Ee.SendMode.PAY_GAS_SEPARATELY;return t.sendMode!==null&&t.sendMode!==void 0&&(a=t.sendMode),(0,xs.createWalletTransferV1)({seqno:t.seqno,sendMode:a,secretKey:t.secretKey,message:t.message})}sender(t,a){return{send:async r=>{let i=await this.getSeqno(t),l=this.createTransfer({seqno:i,secretKey:a,sendMode:r.sendMode,message:(0,Ee.internal)({to:r.to,value:r.value,init:r.init,body:r.body,bounce:r.bounce})});await this.send(t,l)}}}}Ct.WalletContractV1R1=en;var vt={};Object.defineProperty(vt,"__esModule",{value:!0});vt.WalletContractV1R2=void 0;const He=k,Qs=Q;class tn{static create(t){return new tn(t.workchain,t.publicKey)}constructor(t,a){this.workchain=t,this.publicKey=a;let r=He.Cell.fromBoc(D.from("te6cckEBAQEAUwAAov8AIN0gggFMl7qXMO1E0NcLH+Ck8mCBAgDXGCDXCx/tRNDTH9P/0VESuvKhIvkBVBBE+RDyovgAAdMfMSDXSpbTB9QC+wDe0aTIyx/L/8ntVNDieG8=","base64"))[0],i=(0,He.beginCell)().storeUint(0,32).storeBuffer(a).endCell();this.init={code:r,data:i},this.address=(0,He.contractAddress)(t,{code:r,data:i})}async getBalance(t){return(await t.getState()).balance}async getSeqno(t){return(await t.getState()).state.type==="active"?(await t.get("seqno",[])).stack.readNumber():0}async send(t,a){await t.external(a)}async sendTransfer(t,a){let r=this.createTransfer(a);await this.send(t,r)}createTransfer(t){let a=He.SendMode.PAY_GAS_SEPARATELY;return t.sendMode!==null&&t.sendMode!==void 0&&(a=t.sendMode),(0,Qs.createWalletTransferV1)({seqno:t.seqno,sendMode:a,secretKey:t.secretKey,message:t.message})}sender(t,a){return{send:async r=>{let i=await this.getSeqno(t),l=this.createTransfer({seqno:i,secretKey:a,sendMode:r.sendMode,message:(0,He.internal)({to:r.to,value:r.value,init:r.init,body:r.body,bounce:r.bounce})});await this.send(t,l)}}}}vt.WalletContractV1R2=tn;var _t={};Object.defineProperty(_t,"__esModule",{value:!0});_t.WalletContractV1R3=void 0;const Fe=k,Vs=Q;class nn{static create(t){return new nn(t.workchain,t.publicKey)}constructor(t,a){this.workchain=t,this.publicKey=a;let r=Fe.Cell.fromBoc(D.from("te6cckEBAQEAXwAAuv8AIN0gggFMl7ohggEznLqxnHGw7UTQ0x/XC//jBOCk8mCBAgDXGCDXCx/tRNDTH9P/0VESuvKhIvkBVBBE+RDyovgAAdMfMSDXSpbTB9QC+wDe0aTIyx/L/8ntVLW4bkI=","base64"))[0],i=(0,Fe.beginCell)().storeUint(0,32).storeBuffer(a).endCell();this.init={code:r,data:i},this.address=(0,Fe.contractAddress)(t,{code:r,data:i})}async getBalance(t){return(await t.getState()).balance}async getSeqno(t){return(await t.getState()).state.type==="active"?(await t.get("seqno",[])).stack.readNumber():0}async send(t,a){await t.external(a)}async sendTransfer(t,a){let r=this.createTransfer(a);await this.send(t,r)}createTransfer(t){let a=Fe.SendMode.PAY_GAS_SEPARATELY;return t.sendMode!==null&&t.sendMode!==void 0&&(a=t.sendMode),(0,Vs.createWalletTransferV1)({seqno:t.seqno,sendMode:a,secretKey:t.secretKey,message:t.message})}sender(t,a){return{send:async r=>{let i=await this.getSeqno(t),l=this.createTransfer({seqno:i,secretKey:a,sendMode:r.sendMode,message:(0,Fe.internal)({to:r.to,value:r.value,init:r.init,body:r.body,bounce:r.bounce})});await this.send(t,l)}}}}_t.WalletContractV1R3=nn;var It={};Object.defineProperty(It,"__esModule",{value:!0});It.WalletContractV2R1=void 0;const We=k,Rs=Q;class an{static create(t){return new an(t.workchain,t.publicKey)}constructor(t,a){this.workchain=t,this.publicKey=a;let r=We.Cell.fromBoc(D.from("te6cckEBAQEAVwAAqv8AIN0gggFMl7qXMO1E0NcLH+Ck8mCDCNcYINMf0x8B+CO78mPtRNDTH9P/0VExuvKhA/kBVBBC+RDyovgAApMg10qW0wfUAvsA6NGkyMsfy//J7VShNwu2","base64"))[0],i=(0,We.beginCell)().storeUint(0,32).storeBuffer(a).endCell();this.init={code:r,data:i},this.address=(0,We.contractAddress)(t,{code:r,data:i})}async getBalance(t){return(await t.getState()).balance}async getSeqno(t){return(await t.getState()).state.type==="active"?(await t.get("seqno",[])).stack.readNumber():0}async send(t,a){await t.external(a)}async sendTransfer(t,a){let r=this.createTransfer(a);await this.send(t,r)}createTransfer(t){let a=We.SendMode.PAY_GAS_SEPARATELY;return t.sendMode!==null&&t.sendMode!==void 0&&(a=t.sendMode),(0,Rs.createWalletTransferV2)({seqno:t.seqno,sendMode:a,secretKey:t.secretKey,messages:t.messages,timeout:t.timeout})}sender(t,a){return{send:async r=>{let i=await this.getSeqno(t),l=this.createTransfer({seqno:i,secretKey:a,sendMode:r.sendMode,messages:[(0,We.internal)({to:r.to,value:r.value,init:r.init,body:r.body,bounce:r.bounce})]});await this.send(t,l)}}}}It.WalletContractV2R1=an;var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.WalletContractV2R2=void 0;const Je=k,Hs=Q;class rn{static create(t){return new rn(t.workchain,t.publicKey)}constructor(t,a){this.workchain=t,this.publicKey=a;let r=Je.Cell.fromBoc(D.from("te6cckEBAQEAYwAAwv8AIN0gggFMl7ohggEznLqxnHGw7UTQ0x/XC//jBOCk8mCDCNcYINMf0x8B+CO78mPtRNDTH9P/0VExuvKhA/kBVBBC+RDyovgAApMg10qW0wfUAvsA6NGkyMsfy//J7VQETNeh","base64"))[0],i=(0,Je.beginCell)().storeUint(0,32).storeBuffer(a).endCell();this.init={code:r,data:i},this.address=(0,Je.contractAddress)(t,{code:r,data:i})}async getBalance(t){return(await t.getState()).balance}async getSeqno(t){return(await t.getState()).state.type==="active"?(await t.get("seqno",[])).stack.readNumber():0}async send(t,a){await t.external(a)}async sendTransfer(t,a){let r=this.createTransfer(a);await this.send(t,r)}createTransfer(t){let a=Je.SendMode.PAY_GAS_SEPARATELY;return t.sendMode!==null&&t.sendMode!==void 0&&(a=t.sendMode),(0,Hs.createWalletTransferV2)({seqno:t.seqno,sendMode:a,secretKey:t.secretKey,messages:t.messages,timeout:t.timeout})}sender(t,a){return{send:async r=>{let i=await this.getSeqno(t),l=this.createTransfer({seqno:i,secretKey:a,sendMode:r.sendMode,messages:[(0,Je.internal)({to:r.to,value:r.value,init:r.init,body:r.body,bounce:r.bounce})]});await this.send(t,l)}}}}Bt.WalletContractV2R2=rn;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.WalletContractV3R1=void 0;const Ke=k,Fs=Q;class sn{static create(t){return new sn(t.workchain,t.publicKey,t.walletId)}constructor(t,a,r){this.workchain=t,this.publicKey=a,r!=null?this.walletId=r:this.walletId=698983191+t;let i=Ke.Cell.fromBoc(D.from("te6cckEBAQEAYgAAwP8AIN0gggFMl7qXMO1E0NcLH+Ck8mCDCNcYINMf0x/TH/gjE7vyY+1E0NMf0x/T/9FRMrryoVFEuvKiBPkBVBBV+RDyo/gAkyDXSpbTB9QC+wDo0QGkyMsfyx/L/8ntVD++buA=","base64"))[0],l=(0,Ke.beginCell)().storeUint(0,32).storeUint(this.walletId,32).storeBuffer(a).endCell();this.init={code:i,data:l},this.address=(0,Ke.contractAddress)(t,{code:i,data:l})}async getBalance(t){return(await t.getState()).balance}async getSeqno(t){return(await t.getState()).state.type==="active"?(await t.get("seqno",[])).stack.readNumber():0}async send(t,a){await t.external(a)}async sendTransfer(t,a){let r=this.createTransfer(a);await this.send(t,r)}createTransfer(t){let a=Ke.SendMode.PAY_GAS_SEPARATELY;return t.sendMode!==null&&t.sendMode!==void 0&&(a=t.sendMode),(0,Fs.createWalletTransferV3)({seqno:t.seqno,sendMode:a,secretKey:t.secretKey,messages:t.messages,timeout:t.timeout,walletId:this.walletId})}sender(t,a){return{send:async r=>{let i=await this.getSeqno(t),l=this.createTransfer({seqno:i,secretKey:a,sendMode:r.sendMode,messages:[(0,Ke.internal)({to:r.to,value:r.value,init:r.init,body:r.body,bounce:r.bounce})]});await this.send(t,l)}}}}Tt.WalletContractV3R1=sn;var kt={};Object.defineProperty(kt,"__esModule",{value:!0});kt.WalletContractV3R2=void 0;const qe=k,Ws=Q;class on{static create(t){return new on(t.workchain,t.publicKey,t.walletId)}constructor(t,a,r){this.workchain=t,this.publicKey=a,r!=null?this.walletId=r:this.walletId=698983191+t;let i=qe.Cell.fromBoc(D.from("te6cckEBAQEAcQAA3v8AIN0gggFMl7ohggEznLqxn3Gw7UTQ0x/THzHXC//jBOCk8mCDCNcYINMf0x/TH/gjE7vyY+1E0NMf0x/T/9FRMrryoVFEuvKiBPkBVBBV+RDyo/gAkyDXSpbTB9QC+wDo0QGkyMsfyx/L/8ntVBC9ba0=","base64"))[0],l=(0,qe.beginCell)().storeUint(0,32).storeUint(this.walletId,32).storeBuffer(a).endCell();this.init={code:i,data:l},this.address=(0,qe.contractAddress)(t,{code:i,data:l})}async getBalance(t){return(await t.getState()).balance}async getSeqno(t){return(await t.getState()).state.type==="active"?(await t.get("seqno",[])).stack.readNumber():0}async send(t,a){await t.external(a)}async sendTransfer(t,a){let r=this.createTransfer(a);await this.send(t,r)}createTransfer(t){let a=qe.SendMode.PAY_GAS_SEPARATELY;return t.sendMode!==null&&t.sendMode!==void 0&&(a=t.sendMode),(0,Ws.createWalletTransferV3)({seqno:t.seqno,sendMode:a,secretKey:t.secretKey,messages:t.messages,timeout:t.timeout,walletId:this.walletId})}sender(t,a){return{send:async r=>{let i=await this.getSeqno(t),l=this.createTransfer({seqno:i,secretKey:a,sendMode:r.sendMode,messages:[(0,qe.internal)({to:r.to,value:r.value,init:r.init,body:r.body,bounce:r.bounce})]});await this.send(t,l)}}}}kt.WalletContractV3R2=on;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.WalletContractV4=void 0;const Ye=k,Js=Q;class dn{static create(t){return new dn(t.workchain,t.publicKey,t.walletId)}constructor(t,a,r){this.workchain=t,this.publicKey=a,r!=null?this.walletId=r:this.walletId=698983191+t;let i=Ye.Cell.fromBoc(D.from("te6ccgECFAEAAtQAART/APSkE/S88sgLAQIBIAIDAgFIBAUE+PKDCNcYINMf0x/THwL4I7vyZO1E0NMf0x/T//QE0VFDuvKhUVG68qIF+QFUEGT5EPKj+AAkpMjLH1JAyx9SMMv/UhD0AMntVPgPAdMHIcAAn2xRkyDXSpbTB9QC+wDoMOAhwAHjACHAAuMAAcADkTDjDQOkyMsfEssfy/8QERITAubQAdDTAyFxsJJfBOAi10nBIJJfBOAC0x8hghBwbHVnvSKCEGRzdHK9sJJfBeAD+kAwIPpEAcjKB8v/ydDtRNCBAUDXIfQEMFyBAQj0Cm+hMbOSXwfgBdM/yCWCEHBsdWe6kjgw4w0DghBkc3RyupJfBuMNBgcCASAICQB4AfoA9AQw+CdvIjBQCqEhvvLgUIIQcGx1Z4MesXCAGFAEywUmzxZY+gIZ9ADLaRfLH1Jgyz8gyYBA+wAGAIpQBIEBCPRZMO1E0IEBQNcgyAHPFvQAye1UAXKwjiOCEGRzdHKDHrFwgBhQBcsFUAPPFiP6AhPLassfyz/JgED7AJJfA+ICASAKCwBZvSQrb2omhAgKBrkPoCGEcNQICEekk30pkQzmkD6f+YN4EoAbeBAUiYcVnzGEAgFYDA0AEbjJftRNDXCx+AA9sp37UTQgQFA1yH0BDACyMoHy//J0AGBAQj0Cm+hMYAIBIA4PABmtznaiaEAga5Drhf/AABmvHfaiaEAQa5DrhY/AAG7SB/oA1NQi+QAFyMoHFcv/ydB3dIAYyMsFywIizxZQBfoCFMtrEszMyXP7AMhAFIEBCPRR8qcCAHCBAQjXGPoA0z/IVCBHgQEI9FHyp4IQbm90ZXB0gBjIywXLAlAGzxZQBPoCFMtqEssfyz/Jc/sAAgBsgQEI1xj6ANM/MFIkgQEI9Fnyp4IQZHN0cnB0gBjIywXLAlAFzxZQA/oCE8tqyx8Syz/Jc/sAAAr0AMntVA==","base64"))[0],l=(0,Ye.beginCell)().storeUint(0,32).storeUint(this.walletId,32).storeBuffer(this.publicKey).storeBit(0).endCell();this.init={code:i,data:l},this.address=(0,Ye.contractAddress)(t,{code:i,data:l})}async getBalance(t){return(await t.getState()).balance}async getSeqno(t){return(await t.getState()).state.type==="active"?(await t.get("seqno",[])).stack.readNumber():0}async send(t,a){await t.external(a)}async sendTransfer(t,a){let r=this.createTransfer(a);await this.send(t,r)}createTransfer(t){let a=Ye.SendMode.PAY_GAS_SEPARATELY;return t.sendMode!==null&&t.sendMode!==void 0&&(a=t.sendMode),(0,Js.createWalletTransferV4)({seqno:t.seqno,sendMode:a,secretKey:t.secretKey,messages:t.messages,timeout:t.timeout,walletId:this.walletId})}sender(t,a){return{send:async r=>{let i=await this.getSeqno(t),l=this.createTransfer({seqno:i,secretKey:a,sendMode:r.sendMode,messages:[(0,Ye.internal)({to:r.to,value:r.value,init:r.init,body:r.body,bounce:r.bounce})]});await this.send(t,l)}}}}Pt.WalletContractV4=dn;var Et={};Object.defineProperty(Et,"__esModule",{value:!0});Et.JettonMaster=void 0;const Ks=k;class ln{static create(t){return new ln(t)}constructor(t){this.address=t}async getWalletAddress(t,a){return(await t.get("get_wallet_address",[{type:"slice",cell:(0,Ks.beginCell)().storeAddress(a).endCell()}])).stack.readAddress()}async getJettonData(t){let a=await t.get("get_jetton_data",[]),r=a.stack.readBigNumber(),i=a.stack.readBoolean(),l=a.stack.readAddress(),f=a.stack.readCell(),d=a.stack.readCell();return{totalSupply:r,mintable:i,adminAddress:l,content:f,walletCode:d}}}Et.JettonMaster=ln;var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.JettonWallet=void 0;class cn{static create(t){return new cn(t)}constructor(t){this.address=t}async getBalance(t){return(await t.getState()).state.type!=="active"?0n:(await t.get("get_wallet_data",[])).stack.readBigNumber()}}Mt.JettonWallet=cn;var rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.MultisigOrder=void 0;const Un=Gt(),ct=k;class ht{constructor(t){this.signatures={},this.payload=t}static fromCell(t){var f;let a=t.beginParse(),r=(f=a.loadMaybeRef())==null?void 0:f.beginParse();const i=a.asCell();let l=new ht(i);if(r){for(;r.remainingBits>0;){const d=r.loadBuffer(64),m=r.loadUint(8);l.signatures[m]=d,r.remainingRefs>0?r=r.loadRef().asSlice():r.skip(1)}r.endParse()}return l}static fromPayload(t){return new ht(t)}addSignature(t,a,r){const i=this.payload.hash();if(!(0,Un.signVerify)(i,a,r.owners.get(t).slice(0,-1)))throw Error("invalid signature");this.signatures[t]=a}sign(t,a){const r=this.payload.hash();return this.signatures[t]=(0,Un.sign)(r,a),r}unionSignatures(t){this.signatures=Object.assign({},this.signatures,t.signatures)}clearSignatures(){this.signatures={}}toCell(t){let a=(0,ct.beginCell)().storeBit(0);for(const r in this.signatures){const i=this.signatures[r];a=(0,ct.beginCell)().storeBit(1).storeRef((0,ct.beginCell)().storeBuffer(i).storeUint(parseInt(r),8).storeBuilder(a).endCell())}return(0,ct.beginCell)().storeUint(t,8).storeBuilder(a).storeBuilder(this.payload.asBuilder()).endCell()}}rt.MultisigOrder=ht;var St={};Object.defineProperty(St,"__esModule",{value:!0});St.MultisigOrderBuilder=void 0;const Ge=k,qs=rt;class Ys{constructor(t,a){this.messages=(0,Ge.beginCell)(),this.queryId=0n,this.walletId=t,this.queryOffset=a||7200}addMessage(t,a){if(this.messages.refs>=4)throw Error("only 4 refs are allowed");this.updateQueryId(),this.messages.storeUint(a,8),this.messages.storeRef((0,Ge.beginCell)().store((0,Ge.storeMessageRelaxed)(t)).endCell())}clearMessages(){this.messages=(0,Ge.beginCell)()}build(){return qs.MultisigOrder.fromPayload((0,Ge.beginCell)().storeUint(this.walletId,32).storeUint(this.queryId,64).storeBuilder(this.messages).endCell())}updateQueryId(){const t=BigInt(Math.floor(Date.now()/1e3+this.queryOffset));this.queryId=t<<32n}}St.MultisigOrderBuilder=Ys;var zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.MultisigWallet=void 0;const Zn=Gt(),G=k,Gs=G.Cell.fromBase64("te6ccgECKwEABBgAART/APSkE/S88sgLAQIBIAIDAgFIBAUE2vIgxwCOgzDbPOCDCNcYIPkBAdMH2zwiwAAToVNxePQOb6Hyn9s8VBq6+RDyoAb0BCD5AQHTH1EYuvKq0z9wUwHwCgHCCAGDCryx8mhTFYBA9A5voSCYDqQgwgryZw7f+COqH1NAufJhVCOjU04gIyEiAgLMBgcCASAMDQIBIAgJAgFmCgsAA9GEAiPymAvHoHN9CYbZ5S7Z4BPHohwhJQAtAKkItdJEqCTItdKlwLUAdAT8ArobBKAATwhbpEx4CBukTDgAdAg10rDAJrUAvALyFjPFszJ4HHXI8gBzxb0AMmACASAODwIBIBQVARW77ZbVA0cFUg2zyCoCAUgQEQIBIBITAXOxHXQgwjXGCD5AQHTB4IB1MTtQ9hTIHj0Dm+h8p/XC/9eMfkQ8qCuAfQEIW6TW3Ey4PkBWNs8AaQBgJwA9rtqA6ADoAPoCAXoCEfyAgPyA3XlP+AXkegAA54tkwAAXrhlXP8EA1WZ2oexAAgEgFhcCASAYGQFRtyVbZ4YmRmpGEAgegc30McJNhFpAADMaYeYuAFrgJhwLb+4cC3d0bhAjAYm1WZtnhqvgb+2xxsoicAgej430pBHEoFpAADHDhBACGuQkuuBk9kUWE5kAOeLKhACQCB6IYFImHFImHFImXEA2YlzNijAjAgEgGhsAF7UGtc4QQDVZnah7EAIBIBwdAgOZOB4fARGsGm2eL4G2CUAjABWt+UEAzJV2oewYQAENqTbPBVfBYCMAFa3f3CCAarM7UPYgAiDbPALyZfgAUENxQxPbPO1UIyoACtP/0wcwBKDbPC+uUyCw8mISsQKkJbNTHLmwJYEA4aojoCi8sPJpggGGoPgBBZcCERACPj4wjo0REB/bPEDXePRDEL0F4lQWW1Rz51YQU9zbPFRxClR6vCQlKCYAIO1E0NMf0wfTB9M/9AT0BNEAXgGOGjDSAAHyo9MH0wdQA9cBIPkBBfkBFbrypFAD4GwhIddKqgIi10m68qtwVCATAAwByMv/ywcE1ts87VT4D3AlblOJvrGYEG4QLVDHXwePGzBUJANQTds8UFWgRlAQSRA6SwlTuds8UFQWf+L4AAeDJaGOLCaAQPSWb6UglDBTA7neII4WODk5CNIAAZfTBzAW8AcFkTDifwgHBZJsMeKz5jAGKicoKQBgcI4pA9CDCNcY0wf0BDBTFnj0Dm+h8qXXC/9URUT5EPKmrlIgsVIDvRShI27mbCIyAH5SML6OIF8D+ACTItdKmALTB9QC+wAC6DJwyMoAQBSAQPRDAvAHjhdxyMsAFMsHEssHWM8BWM8WQBOAQPRDAeIBII6KEEUQNEMA2zztVJJfBuIqABzIyx/LB8sHyz/0APQAyQ==");class un{constructor(t,a,r,i,l){this.provider=null,this.owners=G.Dictionary.empty(),this.workchain=a,this.walletId=r,this.k=i;for(let f=0;f<t.length;f+=1)this.owners.set(f,D.concat([t[f],D.alloc(1)]));this.init={code:Gs,data:(0,G.beginCell)().storeUint(this.walletId,32).storeUint(this.owners.size,8).storeUint(this.k,8).storeUint(0,64).storeDict(this.owners,G.Dictionary.Keys.Uint(8),G.Dictionary.Values.Buffer(33)).storeBit(0).endCell()},this.address=(l==null?void 0:l.address)||(0,G.contractAddress)(a,this.init),l!=null&&l.provider?this.provider=l.provider:l!=null&&l.client&&(this.provider=l.client.provider(this.address,{code:this.init.code,data:this.init.data}))}static async fromAddress(t,a){let r;if(a.provider)r=a.provider;else{if(!a.client)throw Error("Either provider or client must be specified");r=a.client.provider(t,{code:null,data:null})}const i=(await r.getState()).state;if(i.type!=="active")throw Error("Contract must be active");const l=G.Cell.fromBoc(i.data)[0].beginParse(),f=l.loadUint(32);l.skip(8);const d=l.loadUint(8);l.skip(64);const m=l.loadDict(G.Dictionary.Keys.Uint(8),G.Dictionary.Values.Buffer(33));let y=[];for(const[w,E]of m){const v=E.subarray(0,32);y.push(v)}return new un(y,t.workChain,f,d,{address:t,provider:r,client:a.client})}async deployExternal(t){if(!t&&!this.provider)throw Error("you must specify provider if there is no such property in MultisigWallet instance");t||(t=this.provider),await t.external(G.Cell.EMPTY)}async deployInternal(t,a=1000000000n){await t.send({sendMode:3,to:this.address,value:a,init:this.init,body:G.Cell.EMPTY,bounce:!0})}async sendOrder(t,a,r){if(!r&&!this.provider)throw Error("you must specify provider if there is no such property in MultisigWallet instance");r||(r=this.provider);let i=(0,Zn.keyPairFromSecretKey)(a).publicKey,l=this.getOwnerIdByPubkey(i),f=t.toCell(l),d=(0,Zn.sign)(f.hash(),a);f=(0,G.beginCell)().storeBuffer(d).storeSlice(f.asSlice()).endCell(),await r.external(f)}async sendOrderWithoutSecretKey(t,a,r,i){if(!i&&!this.provider)throw Error("you must specify provider if there is no such property in MultisigWallet instance");i||(i=this.provider);let l=t.toCell(r);l=(0,G.beginCell)().storeBuffer(a).storeSlice(l.asSlice()).endCell(),await i.external(l)}getOwnerIdByPubkey(t){for(const[a,r]of this.owners)if(r.subarray(0,32).equals(t))return a;throw Error("public key is not an owner")}}zt.MultisigWallet=un;var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.ElectorContract=void 0;const ee=k,$s={serialize(e,t){throw Error("not implemented")},parse(e){const t=new ee.Address(-1,e.loadBuffer(32)),a=e.loadUintBig(64),r=e.loadCoins();return{address:t,weight:a,stake:r}}},Xs={serialize(e,t){throw Error("not implemented")},parse(e){const t=e.loadCoins();e.skip(64);const a=new ee.Address(-1,e.loadBuffer(32)),r=e.loadBuffer(32);return{stake:t,address:a,adnl:r}}};class fn{static create(){return new fn}constructor(){this.address=ee.Address.parseRaw("-1:3333333333333333333333333333333333333333333333333333333333333333")}async getReturnedStake(t,a){if(a.workChain!==-1)throw Error("Only masterchain addresses could have stake");return(await t.get("compute_returned_stake",[{type:"int",value:BigInt("0x"+a.hash.toString("hex"))}])).stack.readBigNumber()}async getPastElectionsList(t){const a=await t.get("past_elections_list",[]),r=new ee.TupleReader(a.stack.readLispList()),i=[];for(;r.remaining>0;){const l=r.readTuple(),f=l.readNumber(),d=l.readNumber();l.pop();const m=l.readNumber();i.push({id:f,unfreezeAt:d,stakeHeld:m})}return i}async getPastElections(t){const a=await t.get("past_elections",[]),r=new ee.TupleReader(a.stack.readLispList()),i=[];for(;r.remaining>0;){const l=r.readTuple(),f=l.readNumber(),d=l.readNumber(),m=l.readNumber();l.pop();const y=l.readCell(),w=l.readBigNumber(),E=l.readBigNumber();let v=new Map;const C=y.beginParse().loadDictDirect(ee.Dictionary.Keys.Buffer(32),$s);for(const[O,L]of C)v.set(BigInt("0x"+O.toString("hex")).toString(10),{address:L.address,weight:L.weight,stake:L.stake});i.push({id:f,unfreezeAt:d,stakeHeld:m,totalStake:w,bonuses:E,frozen:v})}return i}async getElectionEntities(t){const a=await t.getState();if(a.state.type!=="active")throw Error("Unexpected error");const i=ee.Cell.fromBoc(a.state.data)[0].beginParse();if(!i.loadBit())return null;const l=i.loadRef().beginParse(),f=l.loadUint(32),d=l.loadUint(32),m=l.loadCoins(),y=l.loadCoins(),w=l.loadDict(ee.Dictionary.Keys.Buffer(32),Xs);let E=[];if(w)for(const[v,C]of w)E.push({pubkey:v,stake:C.stake,address:C.address,adnl:C.adnl});return{minStake:m,allStakes:y,endElectionsTime:d,startWorkTime:f,entities:E}}async getActiveElectionId(t){const r=(await t.get("active_election_id",[])).stack.readNumber();return r>0?r:null}async getComplaints(t,a){const r=new ee.TupleBuilder;r.writeNumber(a);const i=await t.get("list_complaints",r.build());if(i.stack.peek().type==="null")return[];const l=new ee.TupleReader(i.stack.readLispList()),f=[];for(;l.remaining>0;){const d=l.readTuple(),m=d.readBigNumber(),y=d.readTuple(),w=y.readTuple(),E=D.from(w.readBigNumber().toString(16),"hex");w.readCell();const v=w.readNumber(),C=w.readNumber(),O=new ee.Address(-1,D.from(w.readBigNumber().toString(16),"hex")),L=w.readBigNumber(),N=w.readBigNumber(),U=w.readBigNumber(),x=[],H=new ee.TupleReader(y.readLispList());for(;H.remaining>0;)x.push(H.readNumber());const M=y.readBigNumber(),ne=y.readBigNumber();f.push({id:m,publicKey:E,createdAt:v,severity:C,paid:L,suggestedFine:N,suggestedFinePart:U,rewardAddress:O,votes:x,remainingWeight:ne,vsetId:M})}return f}}Dt.ElectorContract=fn;var B={};Object.defineProperty(B,"__esModule",{value:!0});B.parseFullConfig=B.loadConfigParamsAsSlice=B.loadConfigParamById=B.parseVotingSetup=B.parseProposalSetup=B.configParse29=B.configParse28=B.configParseMsgPrices=B.configParseGasLimitsPrices=B.configParseBridge=B.configParseValidatorSet=B.configParse12=B.configParseWorkchainDescriptor=B.configParse40=B.configParse8=B.configParse18=B.configParse17=B.configParse16=B.configParse15=B.configParse13=B.configParse5=B.configParseMasterAddressRequired=B.parseBridge=B.parseValidatorSet=B.configParseMasterAddress=void 0;const Y=k;function Xe(e){return e?new Y.Address(-1,e.loadBuffer(32)):null}B.configParseMasterAddress=Xe;function Ln(e){if(e.loadUint(32)!==2390828938)throw Error("Invalid config");return e.loadBuffer(32)}const jn={serialize(e,t){throw Error("not implemented")},parse(e){const t=e.loadUint(8);if(t===83)return{publicKey:Ln(e),weight:e.loadUintBig(64),adnlAddress:null};if(t===115)return{publicKey:Ln(e),weight:e.loadUintBig(64),adnlAddress:e.loadBuffer(32)};throw Error("Invalid config")}};function Xn(e){const t=e.loadUint(8);if(t===17){const a=e.loadUint(32),r=e.loadUint(32),i=e.loadUint(16),l=e.loadUint(16),f=e.loadDictDirect(Y.Dictionary.Keys.Uint(16),jn);return{timeSince:a,timeUntil:r,total:i,main:l,totalWeight:null,list:f}}else if(t===18){const a=e.loadUint(32),r=e.loadUint(32),i=e.loadUint(16),l=e.loadUint(16),f=e.loadUintBig(64),d=e.loadDict(Y.Dictionary.Keys.Uint(16),jn);return{timeSince:a,timeUntil:r,total:i,main:l,totalWeight:f,list:d}}}B.parseValidatorSet=Xn;function ea(e){const t=new Y.Address(-1,e.loadBuffer(32)),a=new Y.Address(-1,e.loadBuffer(32)),r=e.loadDict(Y.Dictionary.Keys.Buffer(32),Y.Dictionary.Values.Buffer(32)),i=new Map;for(const[f,d]of r)i.set(new Y.Address(-1,f).toString(),d);const l=e.loadBuffer(32);return{bridgeAddress:t,oracleMultisigAddress:a,oracles:i,externalChainAddress:l}}B.parseBridge=ea;function Jt(e){if(!e)throw Error("Invalid config");return Xe(e)}B.configParseMasterAddressRequired=Jt;function ta(e){if(!e)throw Error("Invalid config");if(e.loadUint(8)===1){const a=e.loadBit()?new Y.Address(-1,e.loadBuffer(32)):null,r=e.loadUint(32),i=e.loadUint(32);return{blackholeAddr:a,feeBurnNominator:r,feeBurnDenominator:i}}throw new Error("Invalid config")}B.configParse5=ta;function ei(e){if(!e)throw Error("Invalid config");if(e.loadUint(8)===26){const a=e.loadCoins(),r=e.loadCoins(),i=e.loadCoins();return{deposit:a,bitPrice:r,cellPrice:i}}throw new Error("Invalid config")}B.configParse13=ei;function na(e){if(!e)throw Error("Invalid config");const t=e.loadUint(32),a=e.loadUint(32),r=e.loadUint(32),i=e.loadUint(32);return{validatorsElectedFor:t,electorsStartBefore:a,electorsEndBefore:r,stakeHeldFor:i}}B.configParse15=na;function aa(e){if(!e)throw Error("Invalid config");const t=e.loadUint(16),a=e.loadUint(16),r=e.loadUint(16);return{maxValidators:t,maxMainValidators:a,minValidators:r}}B.configParse16=aa;function ra(e){if(!e)throw Error("Invalid config");const t=e.loadCoins(),a=e.loadCoins(),r=e.loadCoins(),i=e.loadUint(32);return{minStake:t,maxStake:a,minTotalStake:r,maxStakeFactor:i}}B.configParse17=ra;const ti={serialize(e,t){throw Error("not implemented")},parse(e){if(e.loadUint(8)!==204)throw Error("Invalid config");const a=e.loadUint(32),r=e.loadUintBig(64),i=e.loadUintBig(64),l=e.loadUintBig(64),f=e.loadUintBig(64);return{utime_since:a,bit_price_ps:r,cell_price_ps:i,mc_bit_price_ps:l,mc_cell_price_ps:f}}};function sa(e){if(!e)throw Error("Invalid config");return e.loadDictDirect(Y.Dictionary.Keys.Buffer(4),ti).values()}B.configParse18=sa;function ia(e){if(!e)return{version:0,capabilities:0n};const t=e.loadUint(32),a=e.loadUintBig(64);return{version:t,capabilities:a}}B.configParse8=ia;function oa(e){if(!e)return null;if(e.loadUint(8)!==1)throw Error("Invalid config");const a=e.loadCoins(),r=e.loadCoins(),i=e.loadUint(16),l=e.loadUint(16),f=e.loadUint(16),d=e.loadUint(16),m=e.loadUint(16),y=e.loadUint(16),w=e.loadUint(16),E=e.loadUint(16),v=e.loadUint(16);return{defaultFlatFine:a,defaultProportionaFine:r,severityFlatMult:i,severityProportionalMult:l,unfunishableInterval:f,longInterval:d,longFlatMult:m,longProportionalMult:y,mediumInterval:w,mediumFlatMult:E,mediumProportionalMult:v}}B.configParse40=oa;function ni(e){if(e.loadUint(8)!==166)throw Error("Invalid config");const t=e.loadUint(32),a=e.loadUint(8),r=e.loadUint(8),i=e.loadUint(8),l=e.loadBit(),f=e.loadBit(),d=e.loadBit(),m=e.loadUint(13),y=e.loadBuffer(32),w=e.loadBuffer(32),E=e.loadUint(32);if(e.loadBit())throw Error("Invalid config");const v=e.loadUint(32),C=e.loadUintBig(64);return{enabledSince:t,actialMinSplit:a,min_split:r,max_split:i,basic:l,active:f,accept_msgs:d,flags:m,zerostateRootHash:y,zerostateFileHash:w,version:E,format:{vmVersion:v,vmMode:C}}}B.configParseWorkchainDescriptor=ni;const ai={serialize(e,t){throw Error("not implemented")},parse(e){if(e.loadUint(8)!==166)throw Error("Invalid config");const t=e.loadUint(32),a=e.loadUint(8),r=e.loadUint(8),i=e.loadUint(8),l=e.loadBit(),f=e.loadBit(),d=e.loadBit(),m=e.loadUint(13),y=e.loadBuffer(32),w=e.loadBuffer(32),E=e.loadUint(32);if(e.loadBit())throw Error("Invalid config");const v=e.loadUint(32),C=e.loadUintBig(64);return{enabledSince:t,actialMinSplit:a,min_split:r,max_split:i,basic:l,active:f,accept_msgs:d,flags:m,zerostateRootHash:y,zerostateFileHash:w,version:E,format:{vmVersion:v,vmMode:C}}}};function da(e){if(!e)throw Error("Invalid config");const t=e.loadDict(Y.Dictionary.Keys.Uint(32),ai);if(t)return t;throw Error("No workchains exist")}B.configParse12=da;function Ie(e){return e?Xn(e):null}B.configParseValidatorSet=Ie;function ut(e){return e?ea(e):null}B.configParseBridge=ut;function ri(e){const t=e.loadUint(8);if(t===222){const a=e.loadUintBig(64),r=e.loadUintBig(64),i=e.loadUintBig(64),l=e.loadUintBig(64),f=e.loadUintBig(64),d=e.loadUintBig(64),m=e.loadUintBig(64);return{gasPrice:a,gasLimit:r,specialGasLimit:i,gasCredit:l,blockGasLimit:f,freezeDueLimit:d,deleteDueLimit:m}}else if(t===221){const a=e.loadUintBig(64),r=e.loadUintBig(64),i=e.loadUintBig(64),l=e.loadUintBig(64),f=e.loadUintBig(64),d=e.loadUintBig(64);return{gasPrice:a,gasLimit:r,gasCredit:i,blockGasLimit:l,freezeDueLimit:f,deleteDueLimit:d}}else throw Error("Invalid config")}function Kt(e){if(!e)throw Error("Invalid config");if(e.loadUint(8)===209){const a=e.loadUintBig(64),r=e.loadUintBig(64),i=ri(e);return{flatLimit:a,flatGasPrice:r,other:i}}else throw Error("Invalid config")}B.configParseGasLimitsPrices=Kt;function qt(e){if(!e)throw new Error("Invalid config");if(e.loadUint(8)!==234)throw new Error("Invalid msg prices param");return{lumpPrice:e.loadUintBig(64),bitPrice:e.loadUintBig(64),cellPrice:e.loadUintBig(64),ihrPriceFactor:e.loadUint(32),firstFrac:e.loadUint(16),nextFrac:e.loadUint(16)}}B.configParseMsgPrices=qt;function la(e){if(!e)throw new Error("Invalid config");const t=e.loadUint(8);if(t===193){const a=e.loadUint(32),r=e.loadUint(32),i=e.loadUint(32),l=e.loadUint(32);return{masterCatchainLifetime:a,shardCatchainLifetime:r,shardValidatorsLifetime:i,shardValidatorsCount:l}}if(t===194){const a=e.loadUint(7),r=e.loadBit(),i=e.loadUint(32),l=e.loadUint(32),f=e.loadUint(32),d=e.loadUint(32);return{flags:a,suffleMasterValidators:r,masterCatchainLifetime:i,shardCatchainLifetime:l,shardValidatorsLifetime:f,shardValidatorsCount:d}}throw new Error("Invalid config")}B.configParse28=la;function ca(e){if(!e)throw new Error("Invalid config");const t=e.loadUint(8);if(t===214){const a=e.loadUint(32),r=e.loadUint(32),i=e.loadUint(32),l=e.loadUint(32),f=e.loadUint(32),d=e.loadUint(32),m=e.loadUint(32),y=e.loadUint(32);return{roundCandidates:a,nextCandidateDelay:r,consensusTimeout:i,fastAttempts:l,attemptDuration:f,catchainMaxDeps:d,maxBlockBytes:m,maxColaltedBytes:y}}else if(t===215){const a=e.loadUint(7),r=e.loadBit(),i=e.loadUint(8),l=e.loadUint(32),f=e.loadUint(32),d=e.loadUint(32),m=e.loadUint(32),y=e.loadUint(32),w=e.loadUint(32),E=e.loadUint(32);return{flags:a,newCatchainIds:r,roundCandidates:i,nextCandidateDelay:l,consensusTimeout:f,fastAttempts:d,attemptDuration:m,catchainMaxDeps:y,maxBlockBytes:w,maxColaltedBytes:E}}else if(t===216){const a=e.loadUint(7),r=e.loadBit(),i=e.loadUint(8),l=e.loadUint(32),f=e.loadUint(32),d=e.loadUint(32),m=e.loadUint(32),y=e.loadUint(32),w=e.loadUint(32),E=e.loadUint(32),v=e.loadUint(16);return{flags:a,newCatchainIds:r,roundCandidates:i,nextCandidateDelay:l,consensusTimeout:f,fastAttempts:d,attemptDuration:m,catchainMaxDeps:y,maxBlockBytes:w,maxColaltedBytes:E,protoVersion:v}}else if(t===217){const a=e.loadUint(7),r=e.loadBit(),i=e.loadUint(8),l=e.loadUint(32),f=e.loadUint(32),d=e.loadUint(32),m=e.loadUint(32),y=e.loadUint(32),w=e.loadUint(32),E=e.loadUint(32),v=e.loadUint(16),C=e.loadUint(32);return{flags:a,newCatchainIds:r,roundCandidates:i,nextCandidateDelay:l,consensusTimeout:f,fastAttempts:d,attemptDuration:m,catchainMaxDeps:y,maxBlockBytes:w,maxColaltedBytes:E,protoVersion:v,catchainMaxBlocksCoeff:C}}throw new Error("Invalid config")}B.configParse29=ca;function Yt(e){if(e.loadUint(8)!==54)throw new Error("Invalid config");const a=e.loadUint(8),r=e.loadUint(8),i=e.loadUint(8),l=e.loadUint(8),f=e.loadUint(32),d=e.loadUint(32),m=e.loadUint(32),y=e.loadUint(32);return{minTotalRounds:a,maxTotalRounds:r,minWins:i,maxLoses:l,minStoreSec:f,maxStoreSec:d,bitPrice:m,cellPrice:y}}B.parseProposalSetup=Yt;function ua(e){if(!e)throw new Error("Invalid config");if(e.loadUint(8)!==145)throw new Error("Invalid config");const a=Yt(e.loadRef().beginParse()),r=Yt(e.loadRef().beginParse());return{normalParams:a,criticalParams:r}}B.parseVotingSetup=ua;function fa(e){return Y.Cell.fromBase64(e).beginParse().loadDictDirect(Y.Dictionary.Keys.Int(32),Y.Dictionary.Values.Cell())}function si(e,t){return fa(e).get(t)}B.loadConfigParamById=si;function ii(e){const t=fa(e),a=new Map;for(const[r,i]of t)a.set(r,i.beginParse());return a}B.loadConfigParamsAsSlice=ii;function oi(e){return{configAddress:Jt(e.get(0)),electorAddress:Jt(e.get(1)),minterAddress:Xe(e.get(2)),feeCollectorAddress:Xe(e.get(3)),dnsRootAddress:Xe(e.get(4)),burningConfig:ta(e.get(5)),globalVersion:ia(e.get(8)),workchains:da(e.get(12)),voting:ua(e.get(11)),validators:{...na(e.get(15)),...aa(e.get(16)),...ra(e.get(17))},storagePrices:sa(e.get(18)),gasPrices:{masterchain:Kt(e.get(20)),workchain:Kt(e.get(21))},msgPrices:{masterchain:qt(e.get(24)),workchain:qt(e.get(25))},validatorSets:{prevValidators:Ie(e.get(32)),prevTempValidators:Ie(e.get(33)),currentValidators:Ie(e.get(34)),currentTempValidators:Ie(e.get(35)),nextValidators:Ie(e.get(36)),nextTempValidators:Ie(e.get(37))},validatorsPunish:oa(e.get(40)),bridges:{ethereum:ut(e.get(71)),binance:ut(e.get(72)),polygon:ut(e.get(73))},catchain:la(e.get(28)),consensus:ca(e.get(29))}}B.parseFullConfig=oi;var te={};Object.defineProperty(te,"__esModule",{value:!0});te.computeMessageForwardFees=te.computeExternalMessageFees=te.computeGasPrices=te.computeFwdFees=te.computeStorageFees=void 0;const Vt=k;function di(e){const{lastPaid:t,now:a,storagePrices:r,storageStat:i,special:l,masterchain:f}=e;if(a<=t||r.length===0||a<r[0].utime_since||l)return BigInt(0);let d=Math.max(t,r[0].utime_since),m=BigInt(0);for(let y=0;y<r.length&&d<a;y++){let w=y<r.length-1?Math.min(a,r[y+1].utime_since):a,E=BigInt(0);if(d<w){let v=w-d;E+=BigInt(i.cells)*(f?r[y].mc_cell_price_ps:r[y].cell_price_ps),E+=BigInt(i.bits)*(f?r[y].mc_bit_price_ps:r[y].bit_price_ps),E=E*BigInt(v)}d=w,m+=E}return ha(m)}te.computeStorageFees=di;function hn(e,t,a){return e.lumpPrice+ha(e.bitPrice*a+e.cellPrice*t)}te.computeFwdFees=hn;function li(e,t){return e<=t.flatLimit?t.flatPrice:t.flatPrice+(t.price*(e-t.flatLimit)>>16n)}te.computeGasPrices=li;function ci(e,t){let a=gt(t);return a.bits-=t.bits.length,a.cells-=1,hn(e,BigInt(a.cells),BigInt(a.bits))}te.computeExternalMessageFees=ci;function ui(e,t){let a=(0,Vt.loadMessageRelaxed)(t.beginParse()),r={bits:0,cells:0};if(a.init){const m=new Vt.Cell().asBuilder();(0,Vt.storeStateInit)(a.init)(m);const y=m.endCell();let w=gt(y);w.bits-=y.bits.length,w.cells-=1,r.bits+=w.bits,r.cells+=w.cells}let i=gt(a.body);i.bits-=a.body.bits.length,i.cells-=1,r.bits+=i.bits,r.cells+=i.cells;let l=hn(e,BigInt(r.cells),BigInt(r.bits)),f=l*BigInt(e.firstFrac)>>16n,d=l-f;return{fees:f,remaining:d}}te.computeMessageForwardFees=ui;function gt(e){let t=e.bits.length,a=1;for(let r of e.refs){let i=gt(r);a+=i.cells,t+=i.bits}return{bits:t,cells:a}}function ha(e){let t=e%65536n,a=e>>16n;return t!==0n&&(a+=1n),a}(function(e){var t=z&&z.__createBinding||(Object.create?function(W,oe,$,fe){fe===void 0&&(fe=$);var he=Object.getOwnPropertyDescriptor(oe,$);(!he||("get"in he?!oe.__esModule:he.writable||he.configurable))&&(he={enumerable:!0,get:function(){return oe[$]}}),Object.defineProperty(W,fe,he)}:function(W,oe,$,fe){fe===void 0&&(fe=$),W[fe]=oe[$]}),a=z&&z.__exportStar||function(W,oe){for(var $ in W)$!=="default"&&!Object.prototype.hasOwnProperty.call(oe,$)&&t(oe,W,$)};Object.defineProperty(e,"__esModule",{value:!0}),e.computeStorageFees=e.computeMessageForwardFees=e.computeGasPrices=e.computeFwdFees=e.computeExternalMessageFees=e.loadConfigParamsAsSlice=e.loadConfigParamById=e.parseFullConfig=e.parseVotingSetup=e.parseValidatorSet=e.parseProposalSetup=e.parseBridge=e.configParseWorkchainDescriptor=e.configParseValidatorSet=e.configParseMsgPrices=e.configParseMasterAddressRequired=e.configParseMasterAddress=e.configParseGasLimitsPrices=e.configParseBridge=e.configParse40=e.configParse29=e.configParse28=e.configParse18=e.configParse17=e.configParse16=e.configParse15=e.configParse13=e.configParse12=e.configParse8=e.configParse5=e.ElectorContract=e.MultisigWallet=e.MultisigOrderBuilder=e.MultisigOrder=e.JettonWallet=e.JettonMaster=e.WalletContractV4=e.WalletContractV3R2=e.WalletContractV3R1=e.WalletContractV2R2=e.WalletContractV2R1=e.WalletContractV1R3=e.WalletContractV1R2=e.WalletContractV1R1=e.TonClient4=e.TonClient=e.HttpApi=void 0,a(k,e);var r=nt;Object.defineProperty(e,"HttpApi",{enumerable:!0,get:function(){return r.HttpApi}});var i=pt;Object.defineProperty(e,"TonClient",{enumerable:!0,get:function(){return i.TonClient}});var l=At;Object.defineProperty(e,"TonClient4",{enumerable:!0,get:function(){return l.TonClient4}});var f=Ct;Object.defineProperty(e,"WalletContractV1R1",{enumerable:!0,get:function(){return f.WalletContractV1R1}});var d=vt;Object.defineProperty(e,"WalletContractV1R2",{enumerable:!0,get:function(){return d.WalletContractV1R2}});var m=_t;Object.defineProperty(e,"WalletContractV1R3",{enumerable:!0,get:function(){return m.WalletContractV1R3}});var y=It;Object.defineProperty(e,"WalletContractV2R1",{enumerable:!0,get:function(){return y.WalletContractV2R1}});var w=Bt;Object.defineProperty(e,"WalletContractV2R2",{enumerable:!0,get:function(){return w.WalletContractV2R2}});var E=Tt;Object.defineProperty(e,"WalletContractV3R1",{enumerable:!0,get:function(){return E.WalletContractV3R1}});var v=kt;Object.defineProperty(e,"WalletContractV3R2",{enumerable:!0,get:function(){return v.WalletContractV3R2}});var C=Pt;Object.defineProperty(e,"WalletContractV4",{enumerable:!0,get:function(){return C.WalletContractV4}});var O=Et;Object.defineProperty(e,"JettonMaster",{enumerable:!0,get:function(){return O.JettonMaster}});var L=Mt;Object.defineProperty(e,"JettonWallet",{enumerable:!0,get:function(){return L.JettonWallet}});var N=rt;Object.defineProperty(e,"MultisigOrder",{enumerable:!0,get:function(){return N.MultisigOrder}});var U=St;Object.defineProperty(e,"MultisigOrderBuilder",{enumerable:!0,get:function(){return U.MultisigOrderBuilder}});var x=zt;Object.defineProperty(e,"MultisigWallet",{enumerable:!0,get:function(){return x.MultisigWallet}});var H=Dt;Object.defineProperty(e,"ElectorContract",{enumerable:!0,get:function(){return H.ElectorContract}});var M=B;Object.defineProperty(e,"configParse5",{enumerable:!0,get:function(){return M.configParse5}}),Object.defineProperty(e,"configParse8",{enumerable:!0,get:function(){return M.configParse8}}),Object.defineProperty(e,"configParse12",{enumerable:!0,get:function(){return M.configParse12}}),Object.defineProperty(e,"configParse13",{enumerable:!0,get:function(){return M.configParse13}}),Object.defineProperty(e,"configParse15",{enumerable:!0,get:function(){return M.configParse15}}),Object.defineProperty(e,"configParse16",{enumerable:!0,get:function(){return M.configParse16}}),Object.defineProperty(e,"configParse17",{enumerable:!0,get:function(){return M.configParse17}}),Object.defineProperty(e,"configParse18",{enumerable:!0,get:function(){return M.configParse18}}),Object.defineProperty(e,"configParse28",{enumerable:!0,get:function(){return M.configParse28}}),Object.defineProperty(e,"configParse29",{enumerable:!0,get:function(){return M.configParse29}}),Object.defineProperty(e,"configParse40",{enumerable:!0,get:function(){return M.configParse40}}),Object.defineProperty(e,"configParseBridge",{enumerable:!0,get:function(){return M.configParseBridge}}),Object.defineProperty(e,"configParseGasLimitsPrices",{enumerable:!0,get:function(){return M.configParseGasLimitsPrices}}),Object.defineProperty(e,"configParseMasterAddress",{enumerable:!0,get:function(){return M.configParseMasterAddress}}),Object.defineProperty(e,"configParseMasterAddressRequired",{enumerable:!0,get:function(){return M.configParseMasterAddressRequired}}),Object.defineProperty(e,"configParseMsgPrices",{enumerable:!0,get:function(){return M.configParseMsgPrices}}),Object.defineProperty(e,"configParseValidatorSet",{enumerable:!0,get:function(){return M.configParseValidatorSet}}),Object.defineProperty(e,"configParseWorkchainDescriptor",{enumerable:!0,get:function(){return M.configParseWorkchainDescriptor}}),Object.defineProperty(e,"parseBridge",{enumerable:!0,get:function(){return M.parseBridge}}),Object.defineProperty(e,"parseProposalSetup",{enumerable:!0,get:function(){return M.parseProposalSetup}}),Object.defineProperty(e,"parseValidatorSet",{enumerable:!0,get:function(){return M.parseValidatorSet}}),Object.defineProperty(e,"parseVotingSetup",{enumerable:!0,get:function(){return M.parseVotingSetup}}),Object.defineProperty(e,"parseFullConfig",{enumerable:!0,get:function(){return M.parseFullConfig}}),Object.defineProperty(e,"loadConfigParamById",{enumerable:!0,get:function(){return M.loadConfigParamById}}),Object.defineProperty(e,"loadConfigParamsAsSlice",{enumerable:!0,get:function(){return M.loadConfigParamsAsSlice}});var ne=te;Object.defineProperty(e,"computeExternalMessageFees",{enumerable:!0,get:function(){return ne.computeExternalMessageFees}}),Object.defineProperty(e,"computeFwdFees",{enumerable:!0,get:function(){return ne.computeFwdFees}}),Object.defineProperty(e,"computeGasPrices",{enumerable:!0,get:function(){return ne.computeGasPrices}}),Object.defineProperty(e,"computeMessageForwardFees",{enumerable:!0,get:function(){return ne.computeMessageForwardFees}}),Object.defineProperty(e,"computeStorageFees",{enumerable:!0,get:function(){return ne.computeStorageFees}})})(xn);function fi(e){return t=>{let a=t;a.storeUint(2490013878,32),a.storeUint(e.queryId,64)}}function hi(e){return t=>{let a=t;a.storeUint(170908148,32),a.storeUint(e.id,128),a.storeAddress(e.creator),a.storeAddress(e.executor),a.storeUint(e.coin_amount,64)}}function gi(e){let t=e.readBigNumber(),a=e.readAddress(),r=e.readAddress(),i=e.readBigNumber(),l=e.readBigNumber();return{$$type:"TaskData",id:t,creator:a,executor:r,coin_amount:i,status:l}}function mi(e){return t=>{t.store(hi(e.msg))}}async function On(e){const t=k.Cell.fromBase64("te6ccgECHAEABSwAART/APSkE/S88sgLAQIBYgIDA37QAdDTAwFxsKMB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFRQUwNvBPhhAvhi2zxVFts88uCC2zwTBAUCASAJCgK67aLt+wGSMH/gcCHXScIflTAg1wsf3iDAACLXScEhsJJbf+AgghCUapi2uo6oMNMfAYIQlGqYtrry4IHTPwExyAGCEK/5D1dYyx/LP8n4QgFwbds8f+DAAJEw4w1wBgcB9sj4QwHMfwHKAFVgUHYg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYFBlBFy39YINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFss/ywcByMsfyQHMyQgBOm1tIm6zmVsgbvLQgG8iAZEy4hAkcAMEgEJQI9s8FwHI+QGC8JCEkRl2Tsc0v7b8ZQi7A+hG5gxWJVrGBEROMKl93e0quo68MYFh2fhBbyQQI18DUlDHBZF/nPhBbyQQI18DUnDHBeLy9HT4J28QggiYloChUkByf1UgbW1t2zwBf9sx4BcABO1UAgEgCwwCASAPEAIRuIq9s82zxsdYEw0CEbhR3bPNs8bHGBMOAApUdUNTVAACJgIBIBESAgFIGhsCEbbYG2ebZ42OMBMUALm3ejBOC52Hq6WVz2PQnYc6yVCjbNBOE7rGpaVsj5ZkWnXlv74sRzBOBAq4A3AM7HKZywdVyOS2WHBOE7Lpy1Zp2W5nQdLNsozdFJBOCBnOrTzivzpKFgOsLcTI9lAC4O1E0NQB+GPSAAHjAvgo1wsKgwm68uCJ0x8BghAKL9n0uvLggdN/+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAH6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAdM/VTAE0VUC2zwVFgEO+CdvEHnbPBkA5vpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB03/6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAfpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB0z/TB1VABdQB0NMfMBcWbBcBwDCBK31TEscFs/L0+EFvJBNfA4IK+vCAoXH4I/hC+EKCCvrwgHL4KFKgyFmCEHwr3HZQA8sfyz8BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WyX9VMG1t2zxVUBcByshxAcoBUAcBygBwAcoCUAUg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxZQA/oCcAHKaCNus5F/kyRus+KXMzMBcAHKAOMNIW6znH8BygABIG7y0IABzJUxcAHKAOLJAfsAGACYfwHKAMhwAcoAcAHKACRus51/AcoABCBu8tCAUATMljQDcAHKAOIkbrOdfwHKAAQgbvLQgFAEzJY0A3ABygDicAHKAAJ/AcoAAslYzADaIMEBIcJNsfLQhsgiwQCYgC0BywcCowLef3BvAASOGwR6qQwgwABSMLCzm3AzpjAUb4wEpAQDkTDiBOQBs5cCgC5vjAKk3o4QA3qpDKYwE2+MA6QiwAAQNOYzIqUDmlMSb4EBywcCpQLkbCHJ0AARsK+7UTQ0gABgAHWybuNDVpcGZzOi8vUW1RTUFZTkRvQjE5RllTMlBVNUZSZWl5cE1YSkE3TUd0Uzg1Rjc4MnVpR000TYIA=="),a=k.Cell.fromBase64("te6cckECHgEABTYAAQHAAQEFoFzrAgEU/wD0pBP0vPLICwMCAWIECgN+0AHQ0wMBcbCjAfpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IhUUFMDbwT4YQL4Yts8VRbbPPLggts8EwUIArrtou37AZIwf+BwIddJwh+VMCDXCx/eIMAAItdJwSGwklt/4CCCEJRqmLa6jqgw0x8BghCUapi2uvLggdM/ATHIAYIQr/kPV1jLH8s/yfhCAXBt2zx/4MAAkTDjDXAGBwE6bW0ibrOZWyBu8tCAbyIBkTLiECRwAwSAQlAj2zwWAcj5AYLwkISRGXZOxzS/tvxlCLsD6EbmDFYlWsYERE4wqX3d7Sq6jrwxgWHZ+EFvJBAjXwNSUMcFkX+c+EFvJBAjXwNScMcF4vL0dPgnbxCCCJiWgKFSQHJ/VSBtbW3bPAF/2zHgFgH2yPhDAcx/AcoAVWBQdiDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFgUGUEXLf1gg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYBINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8Wyz/LBwHIyx/JAczJCQAE7VQCASALEAIBIAwOAhG4ir2zzbPGx1gTDQAKVHVDU1QCEbhR3bPNs8bHGBMPAAImAgEgERsCASASGgIRttgbZ5tnjY4wExgC4O1E0NQB+GPSAAHjAvgo1wsKgwm68uCJ0x8BghAKL9n0uvLggdN/+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAH6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAdM/VTAE0VUC2zwUFQDm+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAHTf/pAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAHTP9MHVUAF1AHQ0x8wFxZsFwHAMIErfVMSxwWz8vT4QW8kE18Dggr68IChcfgj+EL4QoIK+vCAcvgoUqDIWYIQfCvcdlADyx/LPwEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxbJf1UwbW3bPFVQFgHKyHEBygFQBwHKAHABygJQBSDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFlAD+gJwAcpoI26zkX+TJG6z4pczMwFwAcoA4w0hbrOcfwHKAAEgbvLQgAHMlTFwAcoA4skB+wAXAJh/AcoAyHABygBwAcoAJG6znX8BygAEIG7y0IBQBMyWNANwAcoA4iRus51/AcoABCBu8tCAUATMljQDcAHKAOJwAcoAAn8BygACyVjMAQ74J28Qeds8GQDaIMEBIcJNsfLQhsgiwQCYgC0BywcCowLef3BvAASOGwR6qQwgwABSMLCzm3AzpjAUb4wEpAQDkTDiBOQBs5cCgC5vjAKk3o4QA3qpDKYwE2+MA6QiwAAQNOYzIqUDmlMSb4EBywcCpQLkbCHJ0AC5t3owTgudh6ullc9j0J2HOslQo2zQThO6xqWlbI+WZFp15b++LEcwTgQKuANwDOxymcsHVcjktlhwThOy6ctWadluZ0HSzbKM3RSQTggZzq084r86ShYDrC3EyPZQAgFIHB0AEbCvu1E0NIAAYAB1sm7jQ1aXBmczovL1FtUU1BWU5Eb0IxOUZZUzJQVTVGUmVpeXBNWEpBN01HdFM4NUY3ODJ1aUdNNE2CCX5FhK");let r=k.beginCell();r.storeRef(a),r.storeUint(0,1),mi({$$type:"TonTaskChild_init_args",msg:e})(r);const i=r.endCell();return{code:t,data:i}}const yi={2:{message:"Stack undeflow"},3:{message:"Stack overflow"},4:{message:"Integer overflow"},5:{message:"Integer out of expected range"},6:{message:"Invalid opcode"},7:{message:"Type check error"},8:{message:"Cell overflow"},9:{message:"Cell underflow"},10:{message:"Dictionary error"},13:{message:"Out of gas error"},32:{message:"Method ID not found"},34:{message:"Action is invalid or not supported"},37:{message:"Not enough TON"},38:{message:"Not enough extra-currencies"},128:{message:"Null reference exception"},129:{message:"Invalid serialization prefix"},130:{message:"Invalid incoming message"},131:{message:"Constraints error"},132:{message:"Access denied"},133:{message:"Contract stopped"},134:{message:"Invalid argument"},135:{message:"Code of a contract was not found"},136:{message:"Invalid address"},137:{message:"Masterchain support is not enabled for this contract"},11133:{message:"you cant take your own tasks"},25049:{message:"you dont have enough rights to call this function"}},pi=[{name:"StateInit",header:null,fields:[{name:"code",type:{kind:"simple",type:"cell",optional:!1}},{name:"data",type:{kind:"simple",type:"cell",optional:!1}}]},{name:"Context",header:null,fields:[{name:"bounced",type:{kind:"simple",type:"bool",optional:!1}},{name:"sender",type:{kind:"simple",type:"address",optional:!1}},{name:"value",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"raw",type:{kind:"simple",type:"slice",optional:!1}}]},{name:"SendParameters",header:null,fields:[{name:"bounce",type:{kind:"simple",type:"bool",optional:!1}},{name:"to",type:{kind:"simple",type:"address",optional:!1}},{name:"value",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"mode",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"body",type:{kind:"simple",type:"cell",optional:!0}},{name:"code",type:{kind:"simple",type:"cell",optional:!0}},{name:"data",type:{kind:"simple",type:"cell",optional:!0}}]},{name:"Deploy",header:2490013878,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"DeployOk",header:2952335191,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"FactoryDeploy",header:1829761339,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"cashback",type:{kind:"simple",type:"address",optional:!1}}]},{name:"ChangeOwner",header:2174598809,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"newOwner",type:{kind:"simple",type:"address",optional:!1}}]},{name:"ChangeOwnerOk",header:846932810,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"newOwner",type:{kind:"simple",type:"address",optional:!1}}]},{name:"InternalTask",header:170908148,fields:[{name:"id",type:{kind:"simple",type:"uint",optional:!1,format:128}},{name:"creator",type:{kind:"simple",type:"address",optional:!1}},{name:"executor",type:{kind:"simple",type:"address",optional:!1}},{name:"coin_amount",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"ChildCallback",header:2083249270,fields:[{name:"id",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"address",type:{kind:"simple",type:"address",optional:!1}}]},{name:"TaskData",header:null,fields:[{name:"id",type:{kind:"simple",type:"uint",optional:!1,format:128}},{name:"creator",type:{kind:"simple",type:"address",optional:!1}},{name:"executor",type:{kind:"simple",type:"address",optional:!1}},{name:"coin_amount",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"status",type:{kind:"simple",type:"uint",optional:!1,format:8}}]}],Ai=[{name:"showData",arguments:[],returnType:{kind:"simple",type:"TaskData",optional:!1}},{name:"balance",arguments:[],returnType:{kind:"simple",type:"string",optional:!1}},{name:"owner",arguments:[],returnType:{kind:"simple",type:"address",optional:!1}}],bi=[{receiver:"internal",message:{kind:"empty"}},{receiver:"internal",message:{kind:"text",text:"task is done"}},{receiver:"internal",message:{kind:"typed",type:"Deploy"}}];class tt{constructor(t,a){this.abi={types:pi,getters:Ai,receivers:bi,errors:yi},this.address=t,this.init=a}static async init(t){return await On(t)}static async fromInit(t){const a=await On(t),r=k.contractAddress(0,a);return new tt(r,a)}static fromAddress(t){return new tt(t)}async send(t,a,r,i){let l=null;if(i===null&&(l=new k.Cell),i==="task is done"&&(l=k.beginCell().storeUint(0,32).storeStringTail(i).endCell()),i&&typeof i=="object"&&!(i instanceof k.Slice)&&i.$$type==="Deploy"&&(l=k.beginCell().store(fi(i)).endCell()),l===null)throw new Error("Invalid message type");await t.internal(a,{...r,body:l})}async getShowData(t){let a=new k.TupleBuilder,r=(await t.get("showData",a.build())).stack;return gi(r)}async getBalance(t){let a=new k.TupleBuilder;return(await t.get("balance",a.build())).stack.readString()}async getOwner(t){let a=new k.TupleBuilder;return(await t.get("owner",a.build())).stack.readAddress()}}function vi(){const e=$a(),t=new xn.TonClient({endpoint:"https://testnet.toncenter.com/api/v2/jsonRPC",apiKey:"7f9775a808b429f000a1bd9a8ee2c23ae2bc5df3d2930d6991fe84c01acf8c5c"}),a=ft.fromAddress(k.Address.parse("EQD108FofiQ8Zg1EYS2cDRiykEwW_Y7oTdaIdYvk5jHz_TEc")),r=t.open(a);return{newTask:async i=>{if(e.connected){let l={$$type:"InternalTask",id:i.id,creator:i.sender,executor:i.executor,coin_amount:i.coin_amount};r==null||r.send(e.sender,{value:i.coin_amount},l).then(()=>console.log("123")).catch(f=>console.log("bed ba"))}},getChild:async i=>await r.getAddressOfChild(i),getChildInfo:async i=>{let l=await tt.fromAddress(i);return(await t.open(l)).getShowData()},markAsDone:async i=>{let l=await tt.fromAddress(i);(await t.open(l)).send(e.sender,{value:k.toNano("0.05")},"task is done")}}}export{vi as u};
